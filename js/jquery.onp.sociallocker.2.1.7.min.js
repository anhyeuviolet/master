!function(t){t.pandalocker||(t.pandalocker={}),t.pandalocker.lang||(t.pandalocker.lang={}),t.pandalocker.lang.defaults||(t.pandalocker.lang.defaults={}),t.pandalocker.lang.defaults={confirm_screen_title:"Please Confirm Your Email",confirm_screen_instructiont:"We have sent a confirmation email to {email}. Please click on the confirmation link in the email to reveal the content.",confirm_screen_note1:"The content will be unlocked automatically within 10 seconds after confirmation.",confirm_screen_note2:"Note delivering the email may take several minutes.",confirm_screen_cancel:"(cancel)",confirm_screen_open:"Open my inbox on {service}",onestep_screen_title:"One Step To Complete",onestep_screen_instructiont:"Please enter your email below to continue.",onestep_screen_button:"OK, complete",signin_long:"Sign in via {name}",signin_short:"via {name}",signin_facebook_name:"Facebook",signin_twitter_name:"Twitter",signin_google_name:"Google",signin_linkedin_name:"LinkedIn",misc_data_processing:"Processing data, please wait...",misc_or_enter_email:"or enter your email manually to sign in",misc_enter_your_name:"enter your name",misc_enter_your_email:"enter your email address",misc_your_agree_with:"By clicking on the button(s), you agree with {links}",misc_terms_of_use:"Terms of Use",misc_privacy_policy:"Privacy Policy",misc_or_wait:"or wait {timer}s",misc_close:"Close",misc_or:"OR",errors_empty_email:"Please enter your email address.",errors_inorrect_email:"It seems you entered an incorrect email address. Please check it.",errors_empty_name:"Please enter your name.",errors_empty_field:"Please fill this field.",errors_invalid_value:"Invalid value. Please check the value you entered.",errors_invalid_date:"Please enter a valid date.",errors_invalid_month:"Please enter a valid month number (between 01 and 12).",errors_subscription_canceled:"You have canceled your subscription.",errors_not_signed_in:"Sorry, but you have not signed in. Please try again.",res_errors_not_granted:"Sorry, but you have not granted all the required permissions ({permissions}). Please try again.",error:"error",noSpam:"Your email address is 100% safe from spam!",errors:{ajaxError:"Unexpected ajax error. Please check the console log to get more details.",unableToLoadSDK:'Unable to load SDK script for "{0}" due to the error "{1}". Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) or usage of private tabs in FireFox may cause this issue. Turn them off and try again.',unableToCreateControl:"Unable to create ({0}). Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",invlidFacebookAppId:"Invalid App ID or given URL is not allowed by the Application configuration: One or more of the given URLs is not allowed by the App's settings.  It must match the Website URL or Canvas URL, or the domain must be a subdomain of one of the App's domains.",emptyFBAppIdError:"Please set your Facebook App ID.",emptyTwitterFollowUrlError:"Please set an URL of your Twitter profile.",tweetNotFound:"Please make sure that you have posted the tweet. Unfortunately we have not manage to find the tweet in your account.",followingNotFound:"Please make sure that you have followed us. Unfortunately we have not manage to find you in the list of followers.",unsupportedTwitterTweetLayout:"The Twitter Tweet Button doesn't support the vertical layout. Please remove the Tweet button or select another theme.",unsupportedTwitterFollowLayout:"The Twitter Follow Button doesn't support the vertical layout. Please remove the Follow button or select another theme.",emptyYoutubeChannelId:"Please set your Youtube Channel ID.",emptyGoogleClientId:"Please set your Google Client ID.",unsupportedYoutubeSubscribeLayout:"The Youtube Subscribe Button doesn't support the vertical layout. Please remove the Subscribe button or select another theme."},scopes:{signinLocker:{defaultHeader:"Sing In To Unlock This Content",defaultMessage:"Please sign in. Just click one of the buttons below to get instant access.",btnSubscribe:"sign in to unlock",viaSignInLong:"{long}",viaSignInShort:"{short}"},emailLocker:{defaultHeader:"This Content Is Only For Subscribers",defaultMessage:"Please subscribe to unlock this content. Just enter your email.",btnSubscribe:"subscribe to unlock",viaSignInLong:"{short}",viaSignInShort:"{name}"},socialLocker:{defaultHeader:"This content is locked",defaultMessage:"Please support us, use one of the buttons below to unlock the content."}},connectButtons:{defaultMessage:"subscribe via your social profile by one click",facebook:{},google:{clientIdMissed:"The Google Client ID is not set. You need to generate a client ID before using the button.",unexpectedError:"Unable to sign in. Unexpected error occurred: {0}"},twitter:{proxyEmpty:"The proxy URL is empty. The proxy is used to call Twitter API."},linkedin:{clientIdMissed:"The LinkedIn Client ID or Client Secret is not set. You need to set these settings before using the button."},defaultSeparator:"or",errorYouTubeChannelMissed:"Please set an ID of your Youtube channel to subscribe.",errorLinkedInCompanyNotFound:"The LinkedIn company '{0}' not found.",errorLinkedInCompanyMissed:"Please specify the LinkedIn company ID or name to follow.",errorTwitterUserMissed:"Please specify the Twitter user name to follow.",errorTwitterMessageMissed:"Please specify the message to tweet."},subscription:{defaultText:"Cannot sign in via social networks? Enter your email manually.",defaultButtonText:"done, sign in to unlock"},socialButtons:{facebookLike:"like us",facebookShare:"share",twitterTweet:"tweet",twitterFollow:"follow us",googlePlus:"+1 us",googleShare:"share",youtubeSubscribe:"subscribe",linkedinShare:"share"}},t.pandalocker.lang=t.pandalocker.lang.defaults,window.__pandalockers&&window.__pandalockers.lang&&(t.pandalocker.lang=t.extend(t.pandalocker.lang,window.__pandalockers.lang),window.__pandalockers.lang=null)}(jQuery),function(t){t.pandalocker.themes||(t.pandalocker.themes={}),t.pandalocker.themes["great-attractor"]={},t.pandalocker.themes["friendly-giant"]={theme:{fonts:[{name:"Open Sans",styles:["400","700"]}]}},t.pandalocker.themes["dark-force"]={theme:{fonts:[{name:"Montserrat",styles:["400","700"]}]}},t.pandalocker.themes.starter={socialButtons:{layout:"horizontal",counter:!0,flip:!1}},t.pandalocker.themes.secrets={socialButtons:{layout:"horizontal",counter:!0,flip:!0}},t.pandalocker.themes.dandyish={socialButtons:{unsupported:["twitter-follow"],layout:"vertical",counter:!0,flip:!1}},t.pandalocker.themes.glass={socialButtons:{layout:"horizontal",counter:!0,flip:!1}},t.pandalocker.themes.flat={socialButtons:{layout:"horizontal",counter:!0,flip:!0}}}(jQuery),!function(t){"use strict";t.pandalocker||(t.pandalocker={}),t.pandalocker.data||(t.pandalocker.data={}),t.pandalocker.entity||(t.pandalocker.entity={}),t.pandalocker.groups||(t.pandalocker.groups={}),t.pandalocker.controls||(t.pandalocker.controls={}),t.pandalocker.tools||(t.pandalocker.tools={}),t.pandalocker.storages||(t.pandalocker.storages={}),t.pandalocker.services||(t.pandalocker.services={}),t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.controls["social-buttons"]||(t.pandalocker.controls["social-buttons"]={}),t.pandalocker.controls["connect-buttons"]||(t.pandalocker.controls["connect-buttons"]={}),t.pandalocker.controls.subscription||(t.pandalocker.controls.subscription={})}(jQuery),!function(t){"use strict";t.pandalocker||(t.pandalocker={}),t.pandalocker.filters=t.pandalocker.filters||{_items:{},_priorities:{},run:function(t,e){var o=e&&e.length>0?e[0]:null;if(!this._items[t])return o;for(var n in this._priorities[t])if(this._priorities[t].hasOwnProperty(n))for(var i=this._priorities[t][n],r=0;r<this._items[t][i].length;r++){var a=this._items[t][i][r];o=a.apply(a,e)}return o},add:function(e,o,n){n||(n=10),this._items[e]||(this._items[e]={}),this._items[e][n]||(this._items[e][n]=[]),this._items[e][n].push(o),this._priorities[e]||(this._priorities[e]=[]),-1===t.inArray(n,this._priorities[e])&&this._priorities[e].push(n),this._priorities[e].sort(function(t,e){return t-e})}},t.pandalocker.hooks=t.pandalocker.hooks||{run:function(e,o){t.pandalocker.filters.run(e,o)},add:function(e,o,n){t.pandalocker.filters.add(e,o,n)}}}(jQuery),!function(t,e,o){"use strict";o.pandalocker||(o.pandalocker={}),o.pandalocker.deferred=o.Deferred||function(){var t={done:[],fail:[],always:[]};this.resolved=!1,this.rejected=!1,this.arg1=null,this.arg2=null,this.resolve=function(e,o){if(this.resolved||this.rejected)return this;this.resolved=!0,this.arg1=e,this.arg2=o;for(var n=0;n<t.done.length;n++)t.done[n](e,o);for(var n=0;n<t.always.length;n++)t.always[n](e,o);return this},this.reject=function(e,o){if(this.resolved||this.rejected)return this;this.rejected=!0,this.arg1=e,this.arg2=o;for(var n=0;n<t.fail.length;n++)t.fail[n](e,o);for(var n=0;n<t.always.length;n++)t.always[n](e,o);return this},this.done=this.success=function(e){return this.resolved?e&&e(this.arg1,this.arg2):t.done.push(e),this},this.fail=this.error=function(e){return this.rejected?e&&e(this.arg1,this.arg2):t.fail.push(e),this},this.always=function(e){return this.resolved||this.rejected?e&&e(this.arg1,this.arg2):t.always.push(e),this},this.promise=function(){return this}}}(window,document,jQuery),!function(t){"use strict";t.pandalocker.tools||(t.pandalocker.tools={}),t.pandalocker.tools.extend=function(e){function o(){}return o.prototype=t.extend(!0,{},e),new o},t.pandalocker.error=function(t){this.onpsl=!0,this.message=t},t.pandalocker.tools.normilizeHtmlOption=function(e){return e?"function"==typeof e?e(this):"string"==typeof e?t("<div>"+e+"</div>"):"object"==typeof e?e.clone():e:e},t.pandalocker.tools.diffArrays=function(e,o){return t.grep(e,function(e){return-1==t.inArray(e,o)})},t.pandalocker.tools.unionArrays=function(e,o){return t.grep(e,function(e){return-1!==t.inArray(e,o)})},t.pandalocker.tools.cookie=t.pandalocker.tools.cookie||function(e,o,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(o))||null===o||void 0===o)){if(n=t.extend({},n),(null===o||void 0===o)&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+i)}return o=String(o),document.cookie=[encodeURIComponent(e),"=",n.raw?o:encodeURIComponent(o),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=o||{};for(var a,s=n.raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),c=0;a=l[c]&&l[c].split("=");c++)if(s(a[0])===e)return s(a[1]||"");return null},t.pandalocker.tools.hash=t.pandalocker.tools.hash||function(t){var e=0;if(!t||0===t.length)return e;for(var o=0;o<t.length;o++){var n=t.charCodeAt(o);e=(e<<5)-e+n,e&=e}return e=e.toString(16),e=e.replace("-","0")},t.pandalocker.tools.has3d=t.pandalocker.tools.has3d||function(){var t,e=document.createElement("p"),o={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform"};e.className="onp-sl-always-visible",document.body.insertBefore(e,null);for(var n in o)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(o[n]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t},t.pandalocker.tools.canBlur=t.pandalocker.tools.canBlur||function(){var t=document.createElement("div");t.style.cssText=_browserPrefixes.join("filter:blur(2px); ");var e=!!t.style.length&&(void 0===document.documentMode||document.documentMode>9);if(e)return!0;try{e=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(o){}return e},t.pandalocker.isTouch=t.pandalocker.isTouch||function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},t.pandalocker.widget=function(e,o){var n={createWidget:function(n,i){var r=t.extend(!0,{},o);r.element=t(n),r.options=t.extend(!0,r.options,i),r._init&&r._init(),r._create&&r._create(),t.data(n,"plugin_"+e,r)},callMethod:function(t,e){return t[e]&&t[e]()}};t.fn[e]=function(){var o=arguments,i=arguments.length,r=this;return this.each(function(){var a=t.data(this,"plugin_"+e);!a&&1>=i?n.createWidget(this,i?o[0]:!1):1==i&&(r=n.callMethod(a,o[0]))}),r}},t.pandalocker.detectBrowser=t.pandalocker.detectBrowser||function(){function e(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=o.exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var e=navigator.userAgent,o=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=o.exec(e)&&(t=parseFloat(RegExp.$1))}return t}var o=jQuery.uaMatch||function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},n=o(navigator.userAgent);t.pandalocker.browser={},n.browser&&(t.pandalocker.browser[n.browser]=!0,t.pandalocker.browser.version=n.version);var i=e();i>0&&(t.pandalocker.browser.msie=!0,t.pandalocker.browser.version=i),t.pandalocker.browser.chrome?t.pandalocker.browser.webkit=!0:t.pandalocker.browser.webkit&&(t.pandalocker.browser.safari=!0)},t.pandalocker.detectBrowser(),t.pandalocker.tools.camelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},t.pandalocker.tools.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.pandalocker.tools.isMobile=function(){return/webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?!0:/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)?!0:!1},t.pandalocker.tools.isTabletOrMobile=function(){return/webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1},t.pandalocker.tools.isInAppBrowser=function(){return t.pandalocker.tools.getInAppBrowser()?!0:!1},t.pandalocker.tools.getInAppBrowser=function(){return/FBAN|FBAV/i.test(navigator.userAgent)?"Facebook In-App browser":/Instagram/i.test(navigator.userAgent)?"Instagram In-App browser":/Twitter/i.test(navigator.userAgent)?"Twitter In-App browser":/VKAndroid/i.test(navigator.userAgent)?"VK In-App browser":!1},t.pandalocker.tools.updateQueryStringParameter=function(t,e,o){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=-1!==t.indexOf("?")?"&":"?";return t.match(n)?t.replace(n,"$1"+e+"="+o+"$2"):t+i+e+"="+o},t.pandalocker.tools.isValidEmailAddress=function(t){var e=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return e.test(t)},t.pandalocker.tools.isValidUrl=function(t){var e=new RegExp(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i);return e.test(t)},t.pandalocker.tools.findLeftWindowBoundry=function(){return window.screenLeft?window.screenLeft:window.screenX?window.screenX:0},t.pandalocker.tools.findTopWindowBoundry=function(){return window.screenTop?window.screenTop:window.screenY?window.screenY:0},t.pandalocker.tools.extractJSON=function(e){var o,n,i;o=e.indexOf("{",o+1);do{if(n=e.lastIndexOf("}"),o>=n)return null;do{i=e.substring(o,n+1);try{var r=t.parseJSON(i);if(r)return r}catch(a){}n=e.substr(0,n).lastIndexOf("}")}while(n>o);o=e.indexOf("{",o+1)}while(-1!=o);return!1},t.pandalocker.tools.saveValue=function(e,o,n){if(localStorage&&localStorage.setItem)try{localStorage.setItem(e,o)}catch(i){t.pandalocker.tools.cookie(e,o,{expires:n,path:"/"})}else t.pandalocker.tools.cookie(e,o,{expires:n,path:"/"})},t.pandalocker.tools.getValue=function(e,o){var n=localStorage&&localStorage.getItem&&localStorage.getItem(e);return n||(n=t.pandalocker.tools.cookie(e)),n?n:o},t.pandalocker.tools.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(jQuery),!function(t){"use strict";t.pandalocker.sdk=t.pandalocker.sdk||{_ready:{},_connected:{},_error:{},getSDK:function(e){return e=t.pandalocker.tools.camelCase(e),t.pandalocker.sdk[e]?t.pandalocker.sdk[e]:null},isConnected:function(e){if(t("#"+e.scriptId).length>0)return!0;var o=!1;return t("script").each(function(){var n=t(this).attr("src");return n?(o=-1!==n.indexOf(e.url),o?(t(this).attr("id",e.scriptId),!1):void 0):!0}),o},getLoadingScript:function(e){var o=t("#"+e.scriptId),n=t("script[src='*"+e.url+"']");return o.length>0?o:n},isLoaded:function(t){return this.isConnected(t)&&t.isLoaded&&t.isLoaded()},connect:function(e,o,n){var i=this,r=this.getSDK(e),a=new t.pandalocker.deferred;if(!r)return console&&console.log("Invalide SDK name: "+e),a.reject("invalide-sdk"),a.promise();if(r.options=o,setTimeout(function(){var t=r.isLoaded();t?i.setup&&i.setup():(i._connected[e]=!1,a.reject("timeout"))},n),this._ready[e])return a.resolve(),a.promise();if(t(document).bind(e+"-init",function(){a.resolve()}),t(document).bind(e+"-error",function(t,o){i._error[e]=!0,a.reject(o)}),this._connected[e]&&!i._error[e])return a.promise();r.createEvents||(r.createEvents=function(){var e=r.isLoaded(),o=function(){t(document).trigger(r.name+"-init")};return e?void o():void t(document).bind(r.name+"-script-loaded",function(){o()})}),r.prepare&&r.prepare();var s=r.isLoaded(),l=this.isConnected(r);if(t(document).bind(e+"-init",function(){i._ready[e]=!0}),this._connected[e]||r.createEvents(),!l||i._error[e]){if(i._error[e]){var c=this.getLoadingScript(r);c&&c.remove()}var d=function(){var t=document.createElement("script");t.type="text/javascript",t.id=r.scriptId,t.src=r.url;var e=r.getScriptBody?r.getScriptBody():null;e&&(t.innerHtml=e);var o=document.getElementsByTagName("body")[0];o.appendChild(t)};d()}if(!s){var c=this.getLoadingScript(r)[0];c.onerror=function(e){console&&console.log("Failed to load SDK script:"),console&&console.log(e),t(document).trigger(r.name+"-error",["blocked"])},c.onreadystatechange=c.onload=function(){var e=c.readyState;(!e||/loaded|complete/.test(e))&&(t(document).trigger(r.name+"-script-loaded"),t(document).unbind(r.name+"-script-loaded"))}}return setTimeout(function(){var e=r.isLoaded();e||t(document).trigger(r.name+"-error",["timeout"])},n),this._connected[e]=!0,a.promise()}}}(jQuery),!function(t){var e=function(){var t=this;return t&&t.hasOwnProperty&&t instanceof e||(t=new e),t._init.apply(t,arguments)};!function(){var t,o,n,i="absolute",r="relative",a=":",s="//",l="@",c=".",d="/",u="..",p="../",h="?",f="=",g="&",k="#",m="",v="type",w="scheme",_="userInfo",b="host",y="port",x="path",T="query",S="fragment",F=/^(?:(https?:\/\/|\/\/)|(\/|\?|#)|[^;:@=\.\s])/i,I=/^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,C=/^([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,O="object",L="string",A=/^\s+|\s+$/g;t=String.prototype.trim?function(t){return t&&t.trim?t.trim():t}:function(t){try{return t.replace(A,m)}catch(e){return t}},o=function(t){return t&&typeof t===O},n=function(t){return typeof t===L},e.ABSOLUTE=i,e.RELATIVE=r,e.normalize=function(t){return new e(t).toString()},e.resolve=function(t,o){return new e(t).resolve(o).toString()},e.prototype={_init:function(t){return this.constructor=e,t=n(t)?t:t instanceof e?t.toString():null,this._original=t,this._url={},this._isValid=this._parse(t),this},toString:function(){var t=this._url,e=[],o=t[v],n=t[w],r=t[x],l=t[T],c=t[S];return o===i&&(e.push(n?n+a+s:s,this.authority()),r&&0!==r.indexOf(d)&&(r=d+r)),e.push(r,l?h+this.queryString():m,c?k+c:m),e.join(m)},original:function(){return this._original},isValid:function(){return this._isValid},isAbsolute:function(){return this._url[v]===i},isRelative:function(){return this._url[v]===r},isHostRelative:function(){var t=this._url[x];return this.isRelative()&&t&&0===t.indexOf(d)},type:function(){return this._url[v]},scheme:function(t){return arguments.length?this._set(w,t):this._url[w]},userInfo:function(t){return arguments.length?this._set(_,t):this._url[_]},host:function(t){return arguments.length?this._set(b,t):this._url[b]},domain:function(){var t=this._url[b];return t?t.split(c).slice(-2).join(c):void 0},port:function(t){return arguments.length?this._set(y,t):this._url[y]},authority:function(){var t=this._url,e=t[_],o=t[b],n=t[y];return[e?e+l:m,o,n?a+n:m].join(m)},path:function(t){return arguments.length?this._set(x,t):this._url[x]},query:function(t){return arguments.length?this._set(T,t):this._url[T]},queryString:function(t){if(arguments.length)return this._set(T,this._parseQuery(t));t=m;var e,o,n=this._url[T];if(n)for(e=0,o=n.length;o>e;e++)t+=n[e].join(f),o-1>e&&(t+=g);return t},fragment:function(t){return arguments.length?this._set(S,t):this._url[S]},resolve:function(t){t=t instanceof e?t:new e(t);var o,n;return this.isValid()&&t.isValid()?t.isAbsolute()?this.isAbsolute()?t.scheme()?t:new e(t).scheme(this.scheme()):t:(o=new e(this.isAbsolute()?this:null),t.path()?(n=t.isHostRelative()||!this.path()?t.path():this.path().substring(0,this.path().lastIndexOf(d)+1)+t.path(),o.path(this._normalizePath(n)).query(t.query()).fragment(t.fragment())):t.query()?o.query(t.query()).fragment(t.fragment()):t.fragment()&&o.fragment(t.fragment()),o):this},reduce:function(t){t=t instanceof e?t:new e(t);var o=this.resolve(t);return this.isAbsolute()&&o.isAbsolute()&&o.scheme()===this.scheme()&&o.authority()===this.authority()&&o.scheme(null).userInfo(null).host(null).port(null),o},_parse:function(e,o){if(e=t(e),!(n(e)&&e.length>0))return!1;var a,s;switch(o||(o=e.match(F),o=o?o[1]?i:o[2]?r:null:null),o){case i:a=e.match(I),a&&(s={},s[v]=i,s[w]=a[1]?a[1].toLowerCase():void 0,s[_]=a[2],s[b]=a[3].toLowerCase(),s[y]=a[4]?parseInt(a[4],10):void 0,s[x]=a[5]||d,s[T]=this._parseQuery(a[6]),s[S]=a[7]);break;case r:a=e.match(C),a&&(s={},s[v]=r,s[x]=a[1],s[T]=this._parseQuery(a[2]),s[S]=a[3]);break;default:return this._parse(e,i)||this._parse(e,r)}return s?(this._url=s,!0):!1},_parseQuery:function(e){if(n(e)){e=t(e);var o,i,r,a=[],s=e.split(g);for(i=0,r=s.length;r>i;i++)s[i]&&(o=s[i].split(f),a.push(o[1]?o:[o[0]]));return a}},_set:function(t,e){return this._url[t]=e,!e||t!==w&&t!==_&&t!==b&&t!==y||(this._url[v]=i),e||t!==b||(this._url[v]=r),this._isValid=this._parse(this.toString()),this},_normalizePath:function(t){var e,o,n,i,r,a;if(t.indexOf(p)>-1){for(e=t.split(d),n=[],r=0,a=e.length;a>r;r++)o=e[r],o===u?n.pop():o&&n.push(o);i=n.join(d),t[0]===d&&(i=d+i),t[t.length-1]===d&&i.length>1&&(i+=d)}else i=t;return i}}}(),t.pandalocker||(t.pandalocker={}),t.pandalocker.tools||(t.pandalocker.tools={}),t.pandalocker.tools.URL=e}(jQuery),!function(t,e,o){"use strict";var n={filterId:0},i=" -webkit- -moz- -o- -ms- ".split(" "),r=function(){var t=e.createElement("div");return t.style.cssText=i.join("filter:blur(2px); "),!!t.style.length&&(void 0===e.documentMode||e.documentMode>9)},a=function(){var t=!1;try{t=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return t},s=function(i,s){var l,c,d,u={intensity:5,forceSVGUrl:!1,animationOptions:{duration:1e3,easing:"linear"}},p=o.extend(u,s),h={},f=function(t){if(h[t]||""===h[t])return h[t]+t;for(var o=e.createElement("div"),n=["","Moz","Webkit","O","ms","Khtml"],i=0;i<n.length;i++)if("undefined"!=typeof o.style[n[i]+t])return h[t]=n[i],n[i]+t;return t.toLowerCase()},g={cssfilters:r(),svgfilters:a()},k=!1,m=f("Filter"),v=function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},w=function(){var t=v("svg"),e=v("filter");l=v("feGaussianBlur"),t.setAttribute("style","position:absolute"),t.setAttribute("width","0"),t.setAttribute("height","0"),e.setAttribute("id","blur-effect-id-"+n.filterId),e.appendChild(l),t.appendChild(e),o("body").append(t)};return this.$elm=i instanceof o?i:o(i),this.init=function(){return g.svgfilters&&w(),c=n.filterId,n.filterId++,this},this.blur=function(){var e,o=t.location,n=p.forceSVGUrl?o.protocol+"//"+o.host+o.pathname:"";return g.cssfilters?e="blur("+p.intensity+"px)":g.svgfilters?(l.setAttribute("stdDeviation",p.intensity),e="url("+n+"#blur-effect-id-"+c+")"):e="progid:DXImageTransform.Microsoft.Blur(pixelradius="+p.intensity+")",this.$elm[0].style[m]=e,k=!0,this},this.animate=function(t,e){if("number"!=typeof t)throw typeof t+" is not a valid number to animate the blur";if(0>t)throw"I can animate only positive numbers";var n=new o.Deferred;return d&&d.stop(!0,!0),d=new o.Animation(p,{intensity:t},o.extend(p.animationOptions,e)).progress(o.proxy(this.blur,this)).done(n.resolve),n.promise()},this.unblur=function(){return this.$elm.css(m,"none"),this.$elm[0].style[m]="none",k=!1,this},this.toggleblur=function(){return k?this.unblur():this.blur(),this},this.destroy=function(){g.svgfilters&&o("filter#blur-effect-id-"+c).parent().remove(),this.unblur();for(var t in this)delete this[t];return this},this.init()};o.fn.Vague=function(t){return new s(this,t)},o.pandalocker.tools.supportBlurring=function(){return o.pandalocker.browser.msie&&o.pandalocker.browser.version>9&&o.pandalocker.browser.msie<12?!1:r()||a()?!0:!1}}(window,document,jQuery),!function(t){"use strict";t.pandalocker.storages.defaultStateStorage=function(e){var o=e.options;this.demo=o.demo,this.useCookies=o.locker.useCookies,this.expires=o.locker.expires,this.isUnlocked=function(t){return this.demo?!1:this._getValue(t)?!0:!1},this.isLocked=function(t){return!this.isUnlocked(t)},this.requestState=function(t,e){return this.demo?e("locked"):void e(this.isUnlocked(t)?"unlocked":"locked")},this.setState=function(t,e){if(this.demo)return!0;try{return"unlocked"===e?this._setValue(t):this._removeValue(t)}catch(o){console&&console.log(o)}},this._setValue=function(e){if(!e)return!1;var o=!0,n=1e4;if(this.expires){var i=new Date,r=i.getTime(),a=r+1e3*this.expires;n=Math.ceil(this.expires/86400),o=JSON.stringify({expires:a})}var s=!0;if(localStorage&&!this.useCookies){s=!1;try{localStorage.setItem(e,o)}catch(l){console&&console.log(l),s=!0}}return s&&t.pandalocker.tools.cookie(e,o,{expires:n,path:"/"}),!0},this._getValue=function(e){if(!e)return!1;var o=localStorage&&!this.useCookies&&localStorage.getItem(e);if(o||(o=t.pandalocker.tools.cookie(e)),o)try{var n=JSON.parse(o);if(n&&n.expires){var i=new Date;return n.expires>i}return!0}catch(r){return!0}},this._removeValue=function(e){return e?(localStorage&&localStorage.removeItem(e),void t.pandalocker.tools.cookie(e,null)):!1}}}(jQuery),!function(t){"use strict";t.pandalocker.services.visibility=function(){this.canLock=function(t){if(!t)return!0;for(var e in t){var o=t[e],n=this.isVisible(o);if(!n)return!1}return!0},this.isVisible=function(t){if(!t.conditions)return!0;var e=this.matchFilter(t),o=t.type||"showif";return"showif"===o?e:"hideif"===o?!e:void 0},this.matchFilter=function(t){var e=!0;for(var o in t.conditions){var n=t.conditions[o],i=this.matchScope(n);i||(e=!1)}return e},this.matchScope=function(t){var e=!1;if(!t.conditions)return!0;for(var o in t.conditions){var n=t.conditions[o],i=this.matchCondition(n);i&&(e=!0)}return e},this.matchCondition=function(t){var e=t.param,o=t.operator,n=t.value,i=t.type||"text",r=this.getValueProvider(e);if(!r)return console&&console.log('[visibility]: the value provider "%s" not found.'.replace("%s",e)),!0;var a=r.getValue(t);return null===a?(console&&console.log('[visibility]: the value returned from the provider "%s" equals to null.'.replace("%s",e)),!0):r.compare?r.compare(o,n,a,i):this.compare(o,n,a,i)},this.getValueProvider=function(e){var o=t.pandalocker.services.visibilityProviders[e];return o=t.pandalocker.filters.run("visibility-value-provider",[o,e])},this.compare=function(e,o,n,i){var r="date"===i&&("equals"===e||"notequal"===e);switch(o=this.castValue(o,i,r?"range":null),n=this.castValue(n,i),e){case"equals":return t.isArray(n)?t.inArray(o,n)>-1:o.range?n>o.start&&n<o.end:o===n;case"notequal":return t.isArray(n)?-1===t.inArray(o,n):o.range?!(n>o.start&&n<o.end):o!==n;case"less":case"older":return o>n;case"greater":case"younger":return n>o;case"contains":return n.indexOf(o)>-1;case"notcontain":return-1===n.indexOf(o);case"between":return n>=o.start&&n<=o.end}return!0},this.castValue=function(e,o,n){if(null===e)return e;if(t.isArray(e)){for(var i=0;i<e.length;i++)e[i]=this.castValue(e[i],o);return e}if("undefined"!=typeof e.start){var r=this.castValue(e.start,o,"start"),a=this.castValue(e.end,o,"end");return"relative"===e.start.type?(e.end=r,e.start=a):(e.end=a,e.start=r),e}switch(o){case"text":case"select":return""+e;case"integer":return parseInt(e);case"date":return this.castToDate(e,n)}},this.castToDate=function(t,e){var o=(new Date).getTime();if("relative"===t.type){var n=parseInt(t.unitsCount);switch(t.units){case"seconds":var i=o-1e3*n;break;case"minutes":var i=o-60*n*1e3;break;case"hours":var i=o-60*n*60*1e3;break;case"days":var i=o-60*n*60*24*1e3;break;case"weeks":var i=o-60*n*60*24*7*1e3;break;case"months":var i=o-60*n*60*24*30*1e3;break;case"years":var i=o-60*n*60*24*365*1e3}if("range"!==e)return i;var r={range:!0,end:i,start:0};switch(t.units){case"seconds":r.start=r.end-1e3;break;case"minutes":r.start=r.end-6e4;break;case"hours":r.start=r.end-36e5;break;case"days":r.start=r.end-864e5;break;case"weeks":r.start=r.end-6048e5;break;case"months":r.start=r.end-2592e6;break;case"years":r.start=r.end-31536e6}return r}if("range"===e){var a=new Date(t),s=a.getUTCDate(),l=a.getUTCMonth(),c=a.getUTCFullYear();return{range:!0,start:Date.UTC(c,l,s),end:Date.UTC(c,l,s,23,59,59,999)}}return t}},t.pandalocker.services.visibilityProviders={},t.pandalocker.services.visibilityProviders["user-mobile"]={getValue:function(){return t.pandalocker.tools.isMobile()?"yes":"no"}},t.pandalocker.services.visibilityProviders["location-page"]={getValue:function(){return window.location.href}},t.pandalocker.services.visibilityProviders["location-referrer"]={
getValue:function(){return document.referrer}}}(jQuery),!function(t){"use strict";t.pandalocker.services.subscription=function(e){this.id=e.id,this.serviceOptions=e,this.cookieName="opanda_"+e.name+"_"+e.service+"_"+e.listId,this.checkingInterval=e.checkingInterval||1e4,this._call=function(e,o,n){var i=this,r={};r.opandaIdentityData=o,r.opandaServiceData=n,r.opandaHandler="subscription",r.opandaRequestType=e,r.opandaService=this.serviceOptions.service,r.opandaListId=this.serviceOptions.listId,r.opandaDoubleOptin=this.serviceOptions.doubleOptin,r.opandaConfirm=this.serviceOptions.confirm,r.opandaRequireName=this.serviceOptions.requireName,r=t.pandalocker.filters.run(this.id+".ajax-data",[r]),r=t.pandalocker.filters.run(this.id+".subscribe.ajax-data",[r]),this.serviceOptions.parentId&&(r=t.pandalocker.filters.apply("subscription-data-"+this.serviceOptions.parentId,r));var a=new t.pandalocker.deferred,s=function(t){t&&t.readyState<4||console&&console.log&&(console.log("Invalide ajax response:"),console.log(t.responseText),a.reject(t))},l=t.ajax({type:"POST",dataType:"text",url:i.serviceOptions.proxy,data:r,error:function(){s(l)},success:function(e){var o=t.pandalocker.tools.extractJSON(e);return o?void a.resolve(o):s(l)}});return a.promise()},this.subscribe=function(e,o){var n=this,i=new t.Deferred;return this._call("subscribe",e,o).done(function(t){return console.log(t),t&&t.error?void i.reject(t):t&&"subscribed"===t.status?void i.resolve(t):n.serviceOptions.doubleOptin&&n.serviceOptions.confirm?(n._setWaitingStatus(e),i.notify("waiting-confirmation"),void n.waitSubscription(e).done(function(t){i.resolve(t)}).fail(function(t){i.reject(t)}).always(function(){n._removeWaitingStatus()})):void i.resolve(t)}).fail(function(e){e&&e.readyState<4||i.reject({error:t.pandalocker.lang.errors.ajaxError})}),i.promise()},this.waitSubscription=function(e){var o=this,n=new t.Deferred;return this._waitingConfirmationResult=n,o._isCanceled?void(o._isCanceled=!1):(this.check(e).done(function(t){return o._isCanceled?void(o._isCanceled=!1):(console&&console.log&&console.log("waiting subscription..."),console&&console.log&&console.log(t),t&&"subscribed"===t.status?void n.resolve(t):void setTimeout(function(){var t=o.waitSubscription(e);t&&(t.done(function(t){n.resolve(t)}),t.fail(function(t){n.reject(t)}))},o.checkingInterval))}).fail(function(t){return o._isCanceled?void(o._isCanceled=!1):void n.reject(t)}),n.promise())},this.check=function(e){var o=new t.Deferred;return this._call("check",e).done(function(t){return t.error?void o.reject(t):void o.resolve(t)}).fail(function(e){e&&e.readyState<4||o.reject({error:t.pandalocker.lang.errors.ajaxError})}),o.promise()},this.cancel=function(){this._isCanceled=!0,this._removeWaitingStatus(),this._waitingConfirmationResult&&(this._waitingConfirmationResult.reject({error:t.pandalocker.lang.errors_subscription_canceled}),this._waitingConfirmationResult=null)},this._setWaitingStatus=function(e){var o=JSON.stringify(e);if(localStorage&&localStorage.setItem)try{localStorage.setItem(this.cookieName,o)}catch(n){t.pandalocker.tools.cookie(this.cookieName,o,{expires:365,path:"/"})}else t.pandalocker.tools.cookie(this.cookieName,o,{expires:365,path:"/"})},this._removeWaitingStatus=function(){localStorage&&localStorage.removeItem&&localStorage.removeItem(this.cookieName),t.pandalocker.tools.cookie(this.cookieName,!1,{expires:0,path:"/"})},this.isWaitingSubscription=function(){var t=this.getWaitingIdentityData();return t?!0:!1},this.getWaitingIdentityData=function(){var e=localStorage&&localStorage.getItem&&localStorage.getItem(this.cookieName);return e||(e=t.pandalocker.tools.cookie(this.cookieName)),e?JSON.parse(e):e}}}(jQuery),!function(t){"use strict";t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.extras.interrelation={init:function(){var t=this.options.locker&&this.options.locker.scope;if(t){var e=this;this.addHook("state-changed",function(o,n){if("unlocked"===n){var i=e._getStateStorage(),r="scope_"+t;i.setState(r,"unlocked")}}),this.addFilter("functions-requesting-state",function(o){return o.push(function(o){var n=e._getStateStorage(),i="scope_"+t;n.requestState(i,function(t){o(t)})}),o}),this.addHook("unlocked",function(o,n){"button"===n&&e.runHook("unlocked-by-scope-"+t,[],!0)}),this.addHook("unlocked-by-scope-"+t,function(t){t!==e&&e.unlock("scope")},10,!0)}}}}(jQuery),!function(t){"use strict";t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.extras.googleAnalytics={init:function(){if(this.options.googleAnalytics){this.addHook("unlocked",function(e,o,n,i){if(window._gaq||window.ga)if(i||(i=window.location.href),"button"===o){var r=null;r="facebook-like"===n?"Facebook Like":"facebook-share"===n?"Facebook Share":"twitter-tweet"===n?"Twitter Tweet":"twitter-follow"===n?"Twitter Follow":"google-plus"===n?"Google Plus":"google-share"===n?"Google Share":"linkedin-share"===n?"LinkedIn Share":"google-youtube"===n?"Google Youtube":"facebook"===n?"Facebook Sign-In":"twitter"===n?"Twitter Sign-In":"google"===n?"Google Sign-In":"linkedin"===n?"LinkedIn Sign-In":"form"===n?"Opt-In Form":n.substr(0,1).toUpperCase()+n.substr(1),t("Lockers","Unlocked (Total)",i),t("Lockers ","Unlocked via "+r,i)}else"timer"===o?(t("Lockers","Skipped (Total)",i),t("Lockers ","Skipped via Timer",i)):"cross"===o&&(t("Lockers","Skipped (Total)",i),t("Lockers ","Skipped via Cross",i))});var t=function(t,e,o){window.ga?window.ga("send","event",t,e,o):window._gaq.push(["_trackEvent",t,e,o])}}}}}(jQuery),!function(t){"use strict";t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.extras.na={init:function(){var t=this,e=0,o=0,n={},i=function(){for(var e=0,o=0;o<t._groups.length;o++)for(var n=0;n<t._groups[o].controls.length;n++)e++;return e};this.addHook("control-error",function(r,a,s){e||(e=i(),o=e);var l=s+"-"+a;n[l]||(n[l]=!0,o--,o>0||(t.runHook("na"),"show-content"===t.options.locker.naMode&&t.unlock("na")))})}}}(jQuery),!function(t){"use strict";var e={};e.init=function(e,o){var n=t.extend(!0,{},this._defaults);if(this.options=t.extend(!0,n,o),this.groupOptions=e.options,this.lockerOptions=e.locker.options,this.lang=e.lang,this.group=e,this.locker=e.locker,this.groupOptions.senderName&&(this.senderName=this.groupOptions.senderName),!this.name)throw new Error('The property "name" cannot be empty for the control.');this.options.proxy=this.options.proxy||this.groupOptions.proxy||this.lockerOptions.proxy,this.setup&&this.setup(),this.setupHooks&&this.setupHooks(),this.prepareOptions&&this.prepareOptions()},e._defaults={},e.renderControl=function(e){this.control=t(this.tag||"<div>").addClass("onp-sl-control").addClass("onp-sl-"+this.name).appendTo(e),this.innerWrap=t("<div></div>").addClass("onp-sl-control-inner-wrap").appendTo(this.control),this._isRendered=!0,this._hasError()&&this.showError(),this.render(this.innerWrap)},e.render=function(){throw new Error("The control should implement the method 'render'")},e.unlock=function(t,e,o){this.setState("unlocked"),this.group.unlock(t||"button",e||this.senderName||this.name,o)},e.addClassToLocker=function(t){this.group.addClassToLocker(t)},e._trackWindow=function(t,e){var o=window.open;window.open=function(n,i,r){var a=o(n,i,r);if(!n)return a;if(-1===n.indexOf(t))return a;var s=setInterval(function(){a&&a.closed===!1||(clearInterval(s),e&&e())},300);return a}},e.requestState=function(t){var e=this._getStateStorage();e.requestState(this._getStorageIdentity(),t)},e.setState=function(t,e){var o=this._getStateStorage();o.setState(this._getStorageIdentity(),t,e),this.group.setState(t,"button",this.name)},e._getStorageIdentity=function(){return"control_"+this.name},e._getStateStorage=function(){return this.locker._getStateStorage()},e._setLoadingState=function(t){this._stateSender||(this._stateSender=t,this.control.addClass("onp-sl-state-loading"),this._isLoadingState=!0)},e._removeLoadingState=function(t){this._stateSender&&this._stateSender!==t||(this._stateSender=null,this.control.removeClass("onp-sl-state-loading"),this._isLoadingState=!1)},e._isLoading=function(){return this._isLoadingState},e._setError=function(t){this._error||(this._error=t)},e._hasError=function(){return this._error?!0:!1},e.showError=function(t,e){var o=this;if(this.runHook("control-error",[o.name,o.group.name]),o.group.onControlError&&o.group.onControlError(o.name),!this._isRendered)return void this._setError(t);var e=e||this.innerWrap,t=t||this._error;if(!this.control.hasClass("onp-sl-state-error")){this.control.removeClass("onp-sl-state-loading").addClass("onp-sl-state-error");var n=this.createErrorMarkup(t).appendTo(e);n.find(".onp-sl-error-title").click(function(){return o.group.showError(o.name,t),!1})}},e.createErrorMarkup=function(){return t("<div class='onp-sl-error-body'><a href='#' class='onp-sl-error-title'>"+t.pandalocker.lang.error+"</a></div>")},e.showNotice=function(t,e){this.group.showNotice(t,null,e)},e.addHook=function(t,e,o){return this.group.addHook(t,e,o)},e.runHook=function(t,e){return this.group.runHook(t,e)},e.addFilter=function(t,e,o){return this.group.addFilter(t,e,o)},e.applyFilters=function(t,e,o){return this.group.applyFilters(t,e,o)},e.requireSdk=function(e,o){var n=this,i=new t.pandalocker.deferred;if(!e)return i.resolve(),i.promise();var r=this.group.options.loadingTimeout||this.lockerOptions.locker.loadingTimeout||2e4,a=n.attemptToLoad(e,o||{},5,r);return a.done(function(){i.resolve()}),a.fail(function(o){var n=t.pandalocker.lang.errors.unableToLoadSDK.replace("{0}",e).replace("{1}",o);i.reject(n)}),i.promise()},e.attemptToLoad=function(e,o,n,i){var r=this;n||(n=5);var a=new t.pandalocker.deferred,s=t.pandalocker.sdk.connect(e,o||{},i);return s.done(function(){a.resolve()}),s.fail(function(t){console.log('Failed to load SDK script "'+e+'" due to the error "'+t+'". '+n+" attempts left."),"timeout"!==t&&"blocked"!==t&&a.reject(t),0>=n-1?a.reject(t):r.attemptToLoad(e,o,n-1,i).done(function(){a.resolve()}).fail(function(){a.reject(t)})}),a.promise()},e.verifyButton=function(){var e=this,o=new t.pandalocker.deferred,n=e.verification.timeout,i=function(){if((e.customVerifyButton&&!e.customVerifyButton()||0===e.control.find(e.verification.container).length)&&n>=0)setTimeout(function(){i()},500),n-=500;else{if(0>=n){var r=t.pandalocker.lang.errors.unableToCreateControl.replace("{0}",e.networkName);return o.reject(r)}o.resolve()}};return i(),o.promise()},e.showScreen=function(t,e){this.group.showScreen(t,e)},t.pandalocker.entity.control=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.control);e.setup=function(){var e=this;this.options.actions=this.options.actions||[];var o=!1;for(var n in this.options.actions)"subscribe"===this.options.actions[n]&&(this.options.actions.splice(n,1),o=!0);o&&this.options.actions.push("subscribe"),this.groupOptions.actions&&(this.options.actions=t.extend(this.options.actions,this.groupOptions.actions));for(var i=0;i<this.options.actions.length;i++){var r=t.pandalocker.tools.camelCase(this.options.actions[i]);this.options[r]=this.options[r]||{};var a=r+"Options";this.groupOptions[a]&&(this.options[r]=t.extend(!0,this.options[r],this.groupOptions[a]));var s=r+"ActionOptions";this.lockerOptions[s]&&(this.options[r]=t.extend(!0,this.options[r],this.lockerOptions[s]))}if(this.options.proxy=this.options.proxy||this.groupOptions.proxy||this.lockerOptions.proxy,this.options.lazy=this.options.lazy||this.groupOptions.lazy||this.lockerOptions.lazy,o){var l={id:e.locker.id,proxy:e.lockerOptions.proxy,name:e.name,listId:e.options[r].listId,service:e.options[r].service,doubleOptin:e.options[r].doubleOptin,confirm:e.options[r].confirm,requireName:e.options[r].requireName||!1},c=new t.pandalocker.services.subscription(l);this.subscriptionService=e.applyFilters("get-default-subscription-service",c)}},e.runActions=function(e,o,n){var i=new t.Deferred,r=this;if(!this._actionsDone){this._actionsDone=!0;var a=this.options.actions.slice();n&&this.showScreen("data-processing");var s=function(){var l=a.shift();if(!l)return i.resolve(),void r.unlock();var c=r.options[t.pandalocker.tools.camelCase(l)],d=t.pandalocker.tools.camelCase("run-"+l+"-action");if(!r[d])throw i.reject(),r._actionsDone=!1,new Error("The action '"+d+"' not found.");r[d](e,o,c,n,function(t){return"error"===t?(r.runHook("raw-error"),i.reject(t),r._actionsDone=!1,r.showScreen("default")):void s()})};return s(),i.promise()}},e.runSubscribeAction=function(e,o,n,i,r){var a=this;console.log("serviceData = "),console.log(o);var s=function(){i&&a.showScreen("data-processing");var t=a.subscriptionService.subscribe(e,o);a._setupSubscriptionHooks(t,e),t.fail(function(){r("error")})};return e.email?void s():this.showScreen("enter-email",{header:t.pandalocker.lang.onestep_screen_title,message:t.pandalocker.lang.onestep_screen_instructiont,buttonTitle:t.pandalocker.lang.onestep_screen_button,note:t.pandalocker.tools.normilizeHtmlOption(a.options.noSpamText||a.groupOptions.text.noSpamText||t.pandalocker.lang.noSpam),callback:function(t){e.email=t,s()}})},e.runSignupAction=function(e,o,n,i,r){var a=this,s=function(){i&&a.showScreen("data-processing");var o={};return o.opandaIdentityData=e,o.opandaHandler="signup",o=t.pandalocker.filters.run(a.locker.id+".ajax-data",[o]),o=t.pandalocker.filters.run(a.locker.id+".signup.ajax-data",[o]),t.ajax({type:"POST",dataType:"json",url:a.lockerOptions.proxy,data:o,success:function(){r()},error:function(t){t&&t.readyState<4||(a.showScreen("default"),a.showError("Unable to sign in, the ajax error occurred."),r("error"),console&&console.log&&(console.log("Invalide ajax response:"),console.log(t.responseText)))}})};return e.email?void s():this.showScreen("enter-email",{header:t.pandalocker.lang.onestep_screen_title,message:t.pandalocker.lang.onestep_screen_instructiont,buttonTitle:t.pandalocker.lang.onestep_screen_button,note:t.pandalocker.tools.normilizeHtmlOption(a.options.noSpamText||a.groupOptions.text.noSpamText||t.pandalocker.lang.noSpam),callback:function(t){e.email=t,s()}})},e.runLeadAction=function(e,o,n,i,r){var a=this,s=function(){i&&a.showScreen("data-processing");var o={};return o.opandaIdentityData=e,o.opandaHandler="lead",o=t.pandalocker.filters.run(a.locker.id+".ajax-data",[o]),o=t.pandalocker.filters.run(a.locker.id+".lead.ajax-data",[o]),t.ajax({type:"POST",dataType:"json",url:a.lockerOptions.proxy,data:o,success:function(){r()},error:function(t){t&&t.readyState<4||(a.showScreen("default"),a.showError("Unable to sign in, the ajax error occurred."),r("error"),console&&console.log&&(console.log("Invalide ajax response:"),console.log(t.responseText)))}})};return e.email?void s():this.showScreen("enter-email",{header:t.pandalocker.lang.onestep_screen_title,message:t.pandalocker.lang.onestep_screen_instructiont,buttonTitle:t.pandalocker.lang.onestep_screen_button,note:t.pandalocker.tools.normilizeHtmlOption(a.options.noSpamText||a.groupOptions.text.noSpamText||t.pandalocker.lang.noSpam),callback:function(t){e.email=t,s()}})},e._checkWaitingSubscription=function(){if(this.subscriptionService&&this.subscriptionService.isWaitingSubscription()){var t=this.subscriptionService.getWaitingIdentityData(),e=this.subscriptionService.waitSubscription(t);this._setupSubscriptionHooks(e,t);var o=this;this.showScreen("email-confirmation",{service:o.subscriptionService,email:t.email})}},e._setupSubscriptionHooks=function(t,e){var o=this;return t.done(function(){o.unlock()}),t.fail(function(t){o.runHook("raw-error"),o.showNotice(t.error),o.showScreen("default"),t.detailed&&console&&console.log&&console.log(t.detailed)}),t.always(function(){o.subscriptionService._removeWaitingStatus()}),t.progress(function(t){o.showScreen("email-confirmation",{service:o.subscriptionService,email:e.email})}),t},t.pandalocker.entity.actionControl=e}(jQuery),!function(t){"use strict";var e={};e._defaults={},e.init=function(e,o){var n=this;this.locker=e,this.lockerOptions=e.options,this.lang=e.lang,o||(o={});var i=t.extend(!0,{},this._defaults);this.options=t.extend(!0,i,o);for(var r in o)o.hasOwnProperty(r)&&t.isArray(o[r])&&(this.options[r]=o[r]);if(this.isFirst=1===o.index,this.isLast=o.index===this.lockerOptions.groups.order.length,this.isSingle=1===this.lockerOptions.groups.order.length,"object"!=typeof this.options.text&&(this.options.text={message:n.options.text}),this.isFirst&&(this.options.text.header=""===this.options.text.header?"":this.options.text.header||this.lang.defaultHeader,this.options.text.message=""===this.options.text.message?"":this.options.text.message||this.lang.defaultMessage),this.options.text.header=t.pandalocker.tools.normilizeHtmlOption(this.options.text.header),this.options.text.message=t.pandalocker.tools.normilizeHtmlOption(this.options.text.message),this.options.text.footer=t.pandalocker.tools.normilizeHtmlOption(this.options.text.footer),!1!==this.options.separator){var a=t.isPlainObject(this.options.separator)?this.options.separator:{type:"line",title:n.options.separator};a.type=a.type||"line",this.options.separator=a}this.childInit&&this.childInit(),this.setup&&this.setup(),this.setupHooks&&this.setupHooks(),this.prepareOptions&&this.prepareOptions();try{this.createControls()}catch(s){if(!s.onpsl)throw s;this.showError(this.name,s.message)}},e.createControls=function(){this.controls=[];for(var e=0;e<this.options.order.length;e++){var o=this.options.order[e];if("string"==typeof o){if(!t.pandalocker.controls[this.name][o])throw new t.pandalocker.error('Control "'+o+'" not found in the group "'+this.name+'"');var n=this.createControl(o);this.controls.push(n)}}},e.createControl=function(e){var o=t.pandalocker.tools.extend(t.pandalocker.controls[this.name][e]),n=t.pandalocker.tools.camelCase(e),i=this.options[n]||{};return o.init(this,i),o},e.requestState=function(t){for(var e=this.controls.length,o="locked",n=0;n<this.controls.length;n++)this.controls[n].requestState(function(n){e--,"unlocked"===n&&(o=n),0>=e&&t(o)})},e.canLock=function(){return!0},e.renderGroup=function(e){var o=t("<div class='onp-sl-group onp-sl-"+this.name+"'></div>");o.appendTo(e);var n=t("<div class='onp-sl-group-inner-wrap'></div>");if(n.appendTo(o),o.addClass(this.isFirst?"onp-sl-first-group":this.isLast?"onp-sl-last-group":"onp-sl-middle-group"),o.addClass(this.isSingle?"onp-sl-single-group":"onp-sl-not-single-group"),o.addClass("onp-sl-group-index-"+this.options.index),this.element=o,this.innerWrap=n,this.renderSeparator(),this.options.text.header||this.options.text.message){var i=t("<div class='onp-sl-text'></div>").appendTo(this.innerWrap);this.options.text.header&&i.append(this.options.text.header.addClass("onp-sl-header onp-sl-strong").clone()),this.options.text.message&&i.append(this.options.text.message.addClass("onp-sl-message").clone())}this._isRendered=!0,this.render(this.innerWrap)},e.render=function(){this.renderControls(this.innerWrap)},e.unlock=function(t,e,o){this.locker.unlock(t,e,o)},e.setState=function(t,e,o){this.locker.setState(t,e||"group",o||this.name)},e.renderControls=function(t){for(var e=0;e<this.controls.length;e++)this.controls[e].renderControl(t)},e.showError=function(e,o){if(this._isRendered){if(this.element.find(".onp-sl-group-error").remove(),this._currentErrorFor===e)this.element.find(".onp-sl-group-error").remove(),this._currentErrorFor=null;else{var n=t("<div class='onp-sl-group-error'>"+o+"</div>");this.innerWrap.append(n),this._currentErrorFor=e}this.runHook("size-changed")}else this.locker._showError(e,o)},e.addClassToLocker=function(t){this.locker._addClass(t)},e.showNotice=function(e,o,n){this.element.find(".onp-sl-group-notice").remove();var i=t("<div class='onp-sl-group-notice'>"+e+"</div>").hide();this.innerWrap.append(i),i.fadeIn(500),o||(o=7e3),setTimeout(function(){i.length&&i.fadeOut(800,function(){i.remove(),n&&n()})},o)},e.renderSeparator=function(){if(!this.isFirst&&this.options.separator!==!1){var e=this,o=this.options.separator,n=o.type;this.element.addClass("onp-sl-has-separator").addClass("onp-sl-has-"+n+"-separator");var i=t("<div class='onp-sl-group-separator onp-sl-"+n+"-separator'></div>"),r="hiding-link"===n?"<a href='#'></a>":"<span></span>",a=t(r).addClass("onp-sl-title").appendTo(i);if(a.html(o.title||t.pandalocker.lang.misc_or),i.appendTo(this.innerWrap),"hiding-link"===n){this.element.addClass("onp-sl-separator-hides");var s=t("<div class='onp-sl-hiding-link-container' style='display: none;'></div>");s.appendTo(this.innerWrap),this.innerWrap=s,a.click(function(){return e.element.removeClass("onp-sl-separator-hides"),e.element.addClass("onp-sl-separator-shows"),i.hide(),s.fadeIn(500),e.runHook("size-changed"),!1})}}},e.addHook=function(t,e,o){return this.locker.addHook(t,e,o)},e.runHook=function(t,e){return this.locker.runHook(t,e)},e.addFilter=function(t,e,o){return this.locker.addFilter(t,e,o)},e.applyFilters=function(t,e,o){return this.locker.applyFilters(t,e,o)},e.showScreen=function(t,e){this.locker._showScreen(t,e)},e.registerScreen=function(t,e){this.locker._registerScreen(t,e)},t.pandalocker.entity.group=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.group);e._defaults={url:null,layout:"horizontal",flip:!1,order:["twitter-tweet","facebook-like","google-plus"],behaviorOnError:"show_error",behaviorError:"Unable to create Social Buttons. Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock, Adguard etc.) or usage of private tabs in FireFox may cause this issue. Turn them off and try again.",counters:!0,facebook:{version:"v2.5",like:{title:t.pandalocker.lang.socialButtons.facebookLike},share:{title:t.pandalocker.lang.socialButtons.facebookShare}},twitter:{tweet:{title:t.pandalocker.lang.socialButtons.twitterTweet},follow:{title:t.pandalocker.lang.socialButtons.twitterFollow}},google:{plus:{title:t.pandalocker.lang.socialButtons.googlePlus},share:{title:t.pandalocker.lang.socialButtons.googleShare}},youtube:{title:t.pandalocker.lang.socialButtons.youtubeSubscribe},linkedin:{share:{title:t.pandalocker.lang.socialButtons.linkedinShare}}},e.name="social-buttons",e.prepareOptions=function(){this.options.lang=this.locker.options.lang,"horizontal"!==this.options.layout&&"vertical"!==this.options.layout&&(this.options.layout="horizontal"),this.options.url=this.options.url||this.locker.options.url,this.locker.options.buttons&&(this.locker.options.buttons.order&&(this.options.order=this.locker.options.buttons.order),"undefined"!=typeof this.locker.options.buttons.counters&&(this.options.counters=this.locker.options.buttons.counters)),this.locker.options.facebook&&(this.options.facebook=t.extend(!0,this.options.facebook,this.locker.options.facebook)),this.locker.options.twitter&&(this.options.twitter=t.extend(!0,this.options.twitter,this.locker.options.twitter)),this.locker.options.google&&(this.options.google=t.extend(!0,this.options.google,this.locker.options.google)),this.locker.options.linkedin&&(this.options.linkedin=t.extend(!0,this.options.linkedin,this.locker.options.linkedin)),this.locker.options.youtube&&(this.options.youtube=t.extend(!0,this.options.youtube,this.locker.options.youtube))},e.render=function(){this.element.addClass(this.options.counters?"onp-sl-has-counters":"onp-sl-no-counters"),this.element.addClass("onp-sl-"+this.options.layout),this.element.addClass("onp-sl-lang-"+this.options.lang),this._loadedButtons=t.extend([],this.options.order),this.renderControls(this.innerWrap)},e._loadedButtons=[],e.onControlError=function(t){var e=jQuery.inArray(t,this._loadedButtons);this._loadedButtons.splice(e,1),0===this._loadedButtons.length&&("show_error"===this.options.behaviorOnError?this.showError("adblock",this.options.behaviorError):this.locker.unlock("error"))},e.createControl=function(e){var o=t.pandalocker.tools.extend(t.pandalocker.controls[this.name][e]),n=e.split("-"),i=2===n.length?n[0]:null,r=2===n.length?n[1]:n[0],a={};i?(this.options[i]&&(a=t.extend({},this.options[i])),this.options[i][r]&&(a=t.extend(a,this.options[i][r]))):this.options[r]&&(a=t.extend(a,this.options[r]));var s=i?this.options[i]:{};return s.lang=this.options.lang,s.counters=this.options.counters,s.url=s.url||this.options.url,o.init(this,a,s),o},e.canLock=function(){return 0===this.options.order.length?!1:!0},t.pandalocker.groups["social-buttons"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.control);e.init=function(e,o,n){this.networkOptions=n;var i=this.name.split("-");this.networkName=this.sdk?this.sdk:2===i.length?i[0]:null,this.buttonName=2===i.length?i[1]:i[0],t.pandalocker.entity.control.init.call(this,e,o),this._ssIdentity=this.networkName?"page_"+t.pandalocker.tools.hash(this.url)+"_hash_"+this.networkName+"-"+this.buttonName:"page_"+t.pandalocker.tools.hash(this.url)+"_hash_"+this.buttonName},e._extractUrl=function(){return t.pandalocker.tools.URL.normalize(this.options.url||this.networkOptions.url||window.location.href)},e.render=function(e){var o=this;if(this.networkName&&this.control.addClass("onp-sl-"+this.networkName),this.container=t("<div class='onp-sl-social-button onp-sl-social-button-"+this.name+"'></div>"),this.container.appendTo(e),!this._hasError()){this._setLoadingState();var n=function(){var t=o.requireSdk(o.networkName,o.networkOptions);t.fail(function(t){o._removeLoadingState(),o.showError(t)}),t.done(function(){o.setupEvents(),o.renderButton(o.container),o.verifyButton().always(function(){o._removeLoadingState()}).fail(function(t){o.showError(t)})})};this.locker.options.lazy?this.addHook("raw-impress",function(){o._rendered||(o._rendered=!0,n())}):n()}this._addFlipEffect()},e._addFlipEffect=function(){var e=this.control,o=this.innerWrap,n=this.group.options.flip,i=t.pandalocker.tools.has3d();if(n&&i&&e.addClass("onp-sl-flip")||e.addClass("onp-sl-no-flip"),!n)return!0;var r=this.options.title||(this.networkName?t.pandalocker.lang[this.networkName+"_"+this.buttonName]:t.pandalocker.lang[this.networkName]),a=t("<a href='#'></a>").addClass("onp-sl-button-overlay").append(t("<div class='onp-sl-overlay-back'></div>")).append(t("<div class='onp-sl-overlay-front'></div>").append(t("<div class='onp-sl-overlay-icon'></div>")).append(t("<div class='onp-sl-overlay-line'></div>")).append(t("<div class='onp-sl-overlay-text'>"+r+"</div>"))).append(t("<div class='onp-sl-overlay-header'></div>"));a.prependTo(o),i||e.hover(function(){var e=t(this).find(".onp-sl-button-overlay");e.stop().animate({opacity:0},200,function(){e.hide()})},function(){var e=t(this).find(".onp-sl-button-overlay").show();e.stop().animate({opacity:1},200)}),t.pandalocker.isTouch()&&a.click(i?function(){return e.hasClass("onp-sl-flip-hover")?e.removeClass("onp-sl-flip-hover"):(t(".onp-sl-flip-hover").removeClass("onp-sl-flip-hover"),e.addClass("onp-sl-flip-hover")),!1}:function(){var e=t(this);return e.stop().animate({opacity:0},200,function(){e.hide()}),!1}),this.group._buttonsZIndex||(this.group._buttonsZIndex=54),this.group._buttonsZIndex=this.group._buttonsZIndex-4;var s=this.group._buttonsZIndex;e.css("z-index",s),a&&(a.css("z-index",s),a.find(".onp-sl-overlay-front").css("z-index",1),a.find(".onp-sl-overlay-back").css("z-index",-1),a.find(".onp-sl-overlay-header").css("z-index",1))},e._getStorageIdentity=function(){return this._ssIdentity},e.verification={container:"iframe",timeout:5e3},t.pandalocker.entity.socialButton=e}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.facebook=t.pandalocker.sdk.facebook||{name:"facebook",url1:"//connect.facebook.net/{lang}/all.js",url2:"//connect.facebook.net/{lang}/sdk.js",scriptId:"facebook-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.FB},prepare:function(){0===t("#fb-root").length&&t("<div id='fb-root'></div>").appendTo(t("body"));var e=this.options&&this.options.lang||"en_US";this.url1=this.url1.replace("{lang}",e),this.url2=this.url2.replace("{lang}",e),this.url="v1.0"===this.options.version?this.url1:this.url2},_setup:!1,setup:function(){if(!this._setup){var e=this;window.FB.init({appId:e.options&&e.options.appId||null,status:!0,cookie:!0,xfbml:!0,version:e.options.version}),window.FB.Event.subscribe("edge.create",function(e){t(document).trigger("onp-sl-facebook-like",[e])}),window.FB.init=function(){},t(document).trigger(e.name+"-init"),this._setup=!0}},createEvents:function(){var t=this,e=this.isLoaded();if(e)t.setup();else{if(window.fbAsyncInit)var o=window.fbAsyncInit;window.fbAsyncInit=function(){t.setup(),o&&o(),window.fbAsyncInit=function(){}}}}}}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.twitter=t.pandalocker.sdk.twitter||{name:"twitter",url:"//platform.twitter.com/widgets.js",scriptId:"twitter-wjs",timeout:1e4,isLoaded:function(){return"undefined"!=typeof window.__twttrlr},createEvents:function(){var e=this,o=this.isLoaded(),n=function(){t(document).trigger(e.name+"-init")};return o?void n():(window.twttr||(window.twttr={}),window.twttr.ready||(window.twttr=t.extend(window.twttr,{_e:[],ready:function(t){this._e.push(t)}})),void twttr.ready(function(){n()}))},prepare:function(){var e=function(e){return(e||e.data)&&"string"==typeof e.data?-1!==e.data.indexOf(':["tweet"')?t(document).trigger("onp-sl-twitter-tweet"):-1!==e.data.indexOf(':["follow"')?t(document).trigger("onp-sl-twitter-follow"):void 0:void 0};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}}}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.google=t.pandalocker.sdk.google||{name:"google",url:"//apis.google.com/js/plusone.js",scriptId:"google-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.gapi},prepare:function(){var e=this;e.notAuthed=!1;var o=this.options&&this.options.lang||"en";if(window.___gcfg=window.___gcfg||{lang:o},window.OPanda_GooglePlusOne_Callback=function(e){"on"===e.state&&t(document).trigger("onp-sl-google-plus",[e.href])},window.OPanda_GoogleShare_StartInteraction=function(e){t.pandalocker.data.__googleShareUrl=e.id},!t.pandalocker.tools.isTabletOrMobile()){var n=function(o){if((o||o.data)&&"string"==typeof o.data&&-1===o.data.indexOf("oauth2relay")){if(-1!==o.data.indexOf("::drefresh"))return void(e.notAuthed=!0);if(-1!==o.data.indexOf("::_g_wasClosed")||-1!==o.data.indexOf("::_g_closeMe")){if(e.notAuthed)return void(e.notAuthed=!1);t(document).trigger("onp-sl-google-share")}}};window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n)}}}}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.googleClient=t.pandalocker.sdk.googleClient||{name:"google-client",url:"//apis.google.com/js/client:platform.js?onload=OPanda_GoogleClient_Callback",scriptId:"google-client-jssdk",timeout:1e4,isLoaded:function(){return window.gapi&&"object"==typeof window.gapi.auth},prepare:function(){var e=this;window.OPanda_GoogleClient_Callback=function(){t(document).trigger(e.name+"-script-loaded")}}}}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.linkedin=t.pandalocker.sdk.linkedin||{name:"linkedin",url:"//platform.linkedin.com/in.js",scriptId:"linkedin-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.OPanda_LinkedinShare_Callback=function(e){t(document).trigger("onp-sl-linkedin-share",[e])};var e=window.open;window.open=function(o,n,i){var r=e(o,n,i);if(!r)return r;var a=n||r.name;return a?"easyXDM_IN"!==a.substring(0,10)?r:void(t.pandalocker.sdk.linkedin._activePopup=r):r}}}}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="facebook-like",e._defaults={url:null,layout:"button_count",width:null,verbToDisplay:"like",
colorScheme:"light",font:"tahoma",ref:null,theConfirmIssue:!1},e.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.layout="box_count":this.groupOptions.counters||(this.options.layout="button")},e.setupHooks=function(){var t=this;this.addHook("markup-created",function(){t._startTrackIFrameSizes()}),this.addHook("before-show-content",function(){t._stopTrackIFrameSizes()})},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-facebook-like",function(o,n){e.url===t.pandalocker.tools.URL.normalize(n)&&e.unlock("button",e.name,e.url)})},e.renderButton=function(e){this.button=t("<div></div>").appendTo(e),this.button.attr("data-show-faces",!1),this.button.attr("data-send",!1),this.button.attr("data-href",this.url),this.options.font&&this.button.attr("data-font",this.options.font),this.options.colorScheme&&this.button.attr("data-colorscheme",this.options.colorScheme),this.options.ref&&this.button.attr("data-ref",this.options.ref),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&this.button.attr("data-layout",this.options.layout),this.options.verbToDisplay&&this.button.attr("data-action",this.options.verbToDisplay),this.button.addClass("fb-like"),window.FB.XFBML.parse(e[0])},e.customVerifyButton=function(){var t=this;if(this.customVerification=!1,0===t.control.find(t.verification.container).length)return!1;var e=t.control.find(t.verification.container).attr("style"),o=/height:\s*(\d+)px/i,n=o.exec(e);return n&&n[1]&&0!==parseInt(n[1])?!0:!1},e._startTrackIFrameSizes=function(){if(!this.options.theConfirmIssue){var e=this;this._trackIFrameTimer=null,this.locker.locker.hover(function(){var o=e.control.find("iframe");o.length&&(e._trackIFrameTimer=setInterval(function(){var n=parseInt(o[0].style.height);n||(n=o.height()),n>200&&(e._stopTrackIFrameSizes(),t(document).trigger("onp-sl-facebook-like",[e.url]))},500))},function(){e._stopTrackIFrameSizes()})}},e._stopTrackIFrameSizes=function(){this._trackIFrameTimer&&clearInterval(this._trackIFrameTimer)},t.pandalocker.controls["social-buttons"]["facebook-like"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="facebook-share",e._defaults={url:null,layout:"button_count",count:"standard",lang:"en_US",width:null,shareDialog:!1,name:null,caption:null,description:null,image:null,unlock:null},e.prepareOptions=function(){return this.url=this._extractUrl(),this.options.appId&&"117100935120196"!=this.options.appId?void("vertical"===this.groupOptions.layout?this.options.layout="box_count":this.groupOptions.counters||(this.options.layout="button")):(this.showError(t.pandalocker.lang.errors.emptyFBAppIdError),!1)},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-facebook-share",function(o,n){e.url===t.pandalocker.tools.URL.normalize(n)&&e.unlock("button",e.name,e.url)})},e.renderButton=function(e){var o=this;this.button=t("<div></div>").appendTo(e),this.button.attr("data-href",this.url),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&(this.button.attr("data-layout",this.options.layout),this.button.attr("data-type",this.options.layout));var n=t("<div class='onp-sl-facebook-share-overlay'></div>").appendTo(e);n.click(o.options.shareDialog?function(){return FB.ui({method:"share",href:o.url,display:"popup"},function(e){return console&&console.log&&console.log("AX12:"),console&&console.log&&console.log(e),t.pandalocker.tools.isTabletOrMobile()&&"undefined"==typeof e||null===e?void t(document).trigger("onp-sl-facebook-share",[o.url]):void("undefined"!=typeof e&&null!==e&&("object"==typeof e&&e.error_code&&e.error_code>0||t(document).trigger("onp-sl-facebook-share",[o.url])))}),!1}:function(){return FB.ui({method:"feed",name:o.options.name,link:o.url,picture:o.options.image,caption:o.options.caption,description:o.options.description},function(e){return console&&console.log&&console.log("AX12:"),console&&console.log&&console.log(e),t.pandalocker.tools.isTabletOrMobile()&&"undefined"==typeof e||null===e?void t(document).trigger("onp-sl-facebook-share",[o.url]):void("undefined"!=typeof e&&null!==e&&("object"==typeof e&&e.error_code&&e.error_code>0||t(document).trigger("onp-sl-facebook-share",[o.url])))}),!1}),this.button.addClass("fb-share-button"),window.FB.XFBML.parse(e[0])},e.customVerifyButton=function(){var t=this;if(this.customVerification=!1,0===t.control.find(t.verification.container).length)return!1;var e=t.control.find(t.verification.container).attr("style"),o=/height:\s*(\d+)px/i,n=o.exec(e);return n&&n[1]&&0!==parseInt(n[1])?!0:!1},t.pandalocker.controls["social-buttons"]["facebook-share"]=e}(jQuery),!function(t){"use strict";t.pandalocker.data||(t.pandalocker.data={}),t.pandalocker.data.__tweetedUrl=null,t.pandalocker.data.__tweetWindow=null;var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="twitter-tweet",e.verification={container:"iframe",timeout:5e3},e._defaults={doubleCheck:!1,url:null,text:null,via:null,related:null,count:"horizontal",lang:"en",counturl:null,size:"medium"},e.prepareOptions=function(){if(!this.options.url&&!this.networkOptions.url&&t("link[rel='canonical']").length>0&&(this.options.url=t("link[rel='canonical']").attr("href")),this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.showError(t.pandalocker.lang.errors.unsupportedTwitterTweetLayout):this.groupOptions.counters||(this.options.count="none"),this.groupOptions.lang){var e=this.groupOptions.lang.split("_");this.options.lang=e[0]}if(!this.options.text){var o=t("title");this.options.text=o.length>0?t(o[0]).text():""}},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-twitter-tweet",function(){e.url===t.pandalocker.data.__tweetedUrl&&(t.pandalocker.data.__tweetWindow&&t.pandalocker.data.__tweetWindow.close&&t.pandalocker.data.__tweetWindow.close(),t.pandalocker.data.__tweetWindow=null,e.unlock("button",e.name,e.url))})},e.renderButton=function(e){var o=this;this.button=t('<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>').appendTo(e),this.button.attr("data-url",this.url),this.button.attr("data-show-count",this.options.showCount),this.options.via&&this.button.attr("data-via",this.options.via),this.options.text&&this.button.attr("data-text",this.options.text),this.options.lang&&this.button.attr("data-lang",this.options.lang),this.options.hashtags&&this.button.attr("data-hashtags",this.options.hashtags),this.options.size&&this.button.attr("data-size",this.options.size),this.options.dnt&&this.button.attr("data-dnt",this.options.dnt);var n=t("<div class='onp-sl-feature-overlay'></div>").appendTo(e);n.click(function(){var e=o.tweet(o.options.doubleCheck);e.done(function(){t(document).trigger("onp-sl-twitter-tweet",[o.url])})}),e.data("url-to-verify",o.url);var i=5,r=function(){if(!(e.find("iframe").length>0))if(window.twttr.widgets&&window.twttr.widgets.load)window.twttr.widgets.load(e[0]);else{if(0>=i)return;i--,setTimeout(function(){r()},1e3)}};r()},e.tweet=function(e){var o=this,n=t.Deferred();if(e)return this.connect(function(){var e=o.tweet(!1);e.done(function(){var e=o.checkTweet(o.url);e.done(function(){n.resolve()}),e.fail(function(){o.showNotice(t.pandalocker.lang.errors.tweetNotFound)})})}),n;var i=[];if(o.options.text){var r=encodeURI(o.options.text);r=r.replace(/#/g,"%23"),r=r.replace(/\|/g,"-"),r=r.replace(/\&/g,"%26"),i.push(["text",r])}o.options.hashtags&&i.push(["hashtags",o.options.hashtags]),o.options.via&&i.push(["via",o.options.via]),o.options.related&&i.push(["via",o.options.related]),i.push(["url",o.url]),t.pandalocker.data.__tweetedUrl=o.url;var a=t.pandalocker.tools.URL().scheme("http").host("twitter.com").path("/intent/tweet").query(i).toString(),s=550,l=420,c=screen.width?screen.width/2-s/2+t.pandalocker.tools.findLeftWindowBoundry():0,d=screen.height?screen.height/2-l/2+t.pandalocker.tools.findTopWindowBoundry():0;return t.pandalocker.data.__twitterAuth&&t.pandalocker.data.__twitterAuth.closed===!1?(t.pandalocker.data.__twitterAuth.updateState(a,s,l,c,d),t.pandalocker.data.__tweetWindow=t.pandalocker.data.__twitterAuth,t.pandalocker.data.__twitterAuth=null):t.pandalocker.data.__tweetWindow=window.open(a,"TwitterTweetWindow","width="+s+",height="+l+",left="+c+",top="+d),setTimeout(function(){var e=setInterval(function(){t.pandalocker.data.__tweetWindow&&t.pandalocker.data.__tweetWindow.closed===!1||(clearInterval(e),n.resolve())},200)},200),n.promise()},e.connect=function(e){var o=this;if(t.pandalocker.data.twitterOAuthReady)t.pandalocker.data.__twitterAuthIdentityData?e(t.pandalocker.data.__twitterAuthIdentityData,o._getServiceData()):this._identify(function(t){e(t,o._getServiceData())});else{var n={opandaHandler:"twitter",opandaRequestType:"init",opandaKeepOpen:!0,opandaReadOnly:!0},i=t.pandalocker.tools.cookie("opanda_twid");i&&"null"!==i&&(n.opandaVisitorId=i);var r=o.options.proxy;for(var a in n)n.hasOwnProperty(a)&&(r=t.pandalocker.tools.updateQueryStringParameter(r,a,n[a]));o._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){t.pandalocker.data.twitterOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in))},500)});var s=500,l=610,c=screen.width?screen.width/2-s/2+t.pandalocker.tools.findLeftWindowBoundry():0,d=screen.height?screen.height/2-l/2+t.pandalocker.tools.findTopWindowBoundry():0;t.pandalocker.data.__twitterAuth=window.open(r,"Twitter Tweet","width="+s+",height="+l+",left="+c+",top="+d+",resizable=yes,scrollbars=yes,status=yes"),window.OPanda_TwitterOAuthCompleted=function(n){t.pandalocker.data.twitterOAuthReady=!0,o._saveVisitorId(n),o.connect(e)},window.OPanda_TwitterOAuthDenied=function(e){o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in),o._saveVisitorId(e)}}},e._saveVisitorId=function(e){this._visitorId=e,t.pandalocker.data.__twitterVisitorId=e,t.pandalocker.tools.cookie("opanda_twid",e,{expires:1e3,path:"/"})},e._getServiceData=function(){return{visitorId:t.pandalocker.data.__twitterVisitorId}},e._identify=function(e){var o=this,n=t.ajax({type:"POST",dataType:"json",url:o.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:t.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(o){console.log(o),(!o||o.error||o.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var i={};i.displayName=o.screen_name,i.twitterUrl="https://twitter.com/"+o.screen_name,o.profile_image_url&&(i.image=o.profile_image_url.replace("_normal","")),t.pandalocker.data.__twitterAuthIdentityData=i,e(i)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),e({})}})},e.checkTweet=function(){var e=this,o=t.Deferred(),n=t.ajax({type:"POST",dataType:"json",url:e.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"get_tweets",opandaVisitorId:t.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(t){(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);for(var i=0;i<t.length;i++)if(t[i].entities)for(var r=0;r<t[i].entities.urls.length;r++)if(t[i].entities.urls[r]&&t[i].entities.urls[r].expanded_url===e.url)return void o.resolve();o.reject()},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),callback({})}});return o.promise()},t.pandalocker.controls["social-buttons"]["twitter-tweet"]=e}(jQuery),!function(t){"use strict";t.pandalocker.data||(t.pandalocker.data={}),t.pandalocker.data.__followedUrl=null,t.pandalocker.data.__followWindow=null;var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="twitter-follow",e.verification={container:"iframe",timeout:6e5},e._defaults={doubleCheck:!1,url:null,hideScreenName:!1,showCount:!0,lang:"en",size:"medium"},e.prepareOptions=function(){if(!this.options.url||-1===this.options.url.indexOf("twitter"))return this.showError(t.pandalocker.lang.errors.emptyTwitterFollowUrlError),!1;if(this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.showError(t.pandalocker.lang.errors.unsupportedTwitterFollowLayout):this.groupOptions.counters||(this.options.showCount=!1),this.groupOptions.lang){var e=this.groupOptions.lang.split("_");this.options.lang=e[0]}},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-twitter-follow",function(){e.url===t.pandalocker.data.__followedUrl&&(t.pandalocker.data.__followWindow&&t.pandalocker.data.__followWindow.close&&t.pandalocker.data.__followWindow.close(),t.pandalocker.data.__followWindow=null,e.unlock("button",e.name,e.url))})},e.renderButton=function(e){var o=this;this.button=t('<a href="https://twitter.com/share" class="twitter-follow-button">Follow</a>').appendTo(e),this.button.attr("href",this.url),this.button.attr("data-show-count",this.options.showCount),this.options.showCount&&this.button.attr("data-show-count",this.options.showCount),this.options.lang&&this.button.attr("data-lang",this.options.lang),this.options.alignment&&this.button.attr("data-alignment",this.options.alignment),this.options.size&&this.button.attr("data-size",this.options.size),this.options.dnt&&this.button.attr("data-dnt",this.options.dnt),this.options.hideScreenName&&this.button.attr("data-show-screen-name",!1);var n=t("<div class='onp-sl-feature-overlay'></div>").appendTo(e);n.click(function(){var e=o.follow(o.options.doubleCheck);return e.done(function(){t(document).trigger("onp-sl-twitter-follow",[o.url])}),!1}),e.data("url-to-verify",o.url);var i=5,r=function(){if(!(e.find("iframe").length>0))if(window.twttr.widgets&&window.twttr.widgets.load)window.twttr.widgets.load(e[0]);else{if(0>=i)return;i--,setTimeout(function(){r()},1e3)}};r()},e.follow=function(e){var o=this,n=t.Deferred();if(e)return this.connect(function(){var e=o.follow(!1);e.done(function(){var e=o.checkFollower(o.url);e.done(function(){n.resolve()}),e.fail(function(){o.showNotice(t.pandalocker.lang.errors.followingNotFound)})})}),n;var i=[];t.pandalocker.data.__followedUrl=o.url;var r=o.url.split("/");o.screenName=r[r.length-1],i.push(["screen_name",o.screenName]);var a=t.pandalocker.tools.URL().scheme("http").host("twitter.com").path("/intent/follow").query(i).toString(),s=550,l=530,c=screen.width?screen.width/2-s/2+t.pandalocker.tools.findLeftWindowBoundry():0,d=screen.height?screen.height/2-l/2+t.pandalocker.tools.findTopWindowBoundry():0;return t.pandalocker.data.__twitterAuth&&t.pandalocker.data.__twitterAuth.closed===!1?(t.pandalocker.data.__twitterAuth.updateState(a,s,l,c,d),t.pandalocker.data.__followWindow=t.pandalocker.data.__twitterAuth,t.pandalocker.data.__twitterAuth=null):t.pandalocker.data.__followWindow=window.open(a,"TwitterFollowWindow","width="+s+",height="+l+",left="+c+",top="+d),setTimeout(function(){var e=setInterval(function(){t.pandalocker.data.__followWindow&&t.pandalocker.data.__followWindow.closed===!1||(clearInterval(e),n.resolve())},200)},200),n.promise()},e.connect=function(e){var o=this;if(t.pandalocker.data.twitterOAuthReady)t.pandalocker.data.__twitterAuthIdentityData?e(t.pandalocker.data.__twitterAuthIdentityData,o._getServiceData()):this._identify(function(t){e(t,o._getServiceData())});else{var n={opandaHandler:"twitter",opandaRequestType:"init",opandaKeepOpen:!0,opandaReadOnly:!0},i=t.pandalocker.tools.cookie("opanda_twid");i&&"null"!==i&&(n.opandaVisitorId=i);var r=o.options.proxy;for(var a in n)n.hasOwnProperty(a)&&(r=t.pandalocker.tools.updateQueryStringParameter(r,a,n[a]));o._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){t.pandalocker.data.twitterOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in))},500)});var s=500,l=610,c=screen.width?screen.width/2-s/2+t.pandalocker.tools.findLeftWindowBoundry():0,d=screen.height?screen.height/2-l/2+t.pandalocker.tools.findTopWindowBoundry():0;t.pandalocker.data.__twitterAuth=window.open(r,"Twitter Follow","width="+s+",height="+l+",left="+c+",top="+d+",resizable=yes,scrollbars=yes,status=yes"),window.OPanda_TwitterOAuthCompleted=function(n){t.pandalocker.data.twitterOAuthReady=!0,o._saveVisitorId(n),o.connect(e)},window.OPanda_TwitterOAuthDenied=function(e){o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in),o._saveVisitorId(e)}}},e._saveVisitorId=function(e){this._visitorId=e,t.pandalocker.data.__twitterVisitorId=e,t.pandalocker.tools.cookie("opanda_twid",e,{expires:1e3,path:"/"})},e._getServiceData=function(){return{visitorId:t.pandalocker.data.__twitterVisitorId}},e._identify=function(e){var o=this,n=t.ajax({type:"POST",dataType:"json",url:o.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:t.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(o){console.log(o),(!o||o.error||o.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var i={};i.displayName=o.screen_name,i.twitterUrl="https://twitter.com/"+o.screen_name,o.profile_image_url&&(i.image=o.profile_image_url.replace("_normal","")),t.pandalocker.data.__twitterAuthIdentityData=i,e(i)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),e({})}})},e.checkFollower=function(){var e=this,o=t.Deferred(),n=t.ajax({type:"POST",dataType:"json",url:e.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"get_followers",opandaSceenName:e.screenName,opandaVisitorId:t.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(t){if((!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText),t[0])for(var e=0;e<t[0].connections.length;e++)if("following"===t[0].connections[e])return void o.resolve();o.reject()},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),callback({})}});return o.promise()},t.pandalocker.controls["social-buttons"]["twitter-follow"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="google-plus",e._defaults={url:null,lang:"en-US",size:"medium",annotation:null,width:null,align:"left",expandTo:"",recommendations:!0},e.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.size="tall":this.groupOptions.counters||(this.options.annotation="none")},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-google-plus",function(o,n){e.url===t.pandalocker.tools.URL.normalize(n)&&e.unlock("button",e.name,e.url)})},e.renderButton=function(e){this.button=t("<div></div>").appendTo(e),this.button.attr("data-href",this.url),this.options.size&&this.button.attr("data-size",this.options.size),this.options.annotation&&this.button.attr("data-annotation",this.options.annotation),this.options.align&&this.button.attr("data-align",this.options.align),this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo),this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations),this.button.attr("data-callback","OPanda_GooglePlusOne_Callback"),this.button.addClass("g-plusone"),setTimeout(function(){window.gapi.plusone.go(e[0])},100)},t.pandalocker.controls["social-buttons"]["google-plus"]=e}(jQuery),!function(t){"use strict";t.pandalocker.data||(t.pandalocker.data={}),t.pandalocker.data.__googleShareUrl=null;var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="google-share",e._defaults={url:null,lang:"en-US",size:null,annotation:"bubble",width:null,align:"left",expandTo:"",recommendations:!0},e.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.annotation="vertical-bubble":this.groupOptions.counters||(this.options.annotation="none")},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-google-share",function(o,n){var i=n||t.pandalocker.data.__googleShareUrl;e.url===t.pandalocker.tools.URL.normalize(i)&&e.unlock("button",e.name,e.url)})},e.renderButton=function(e){var o=this;if(this.button=t("<div></div>").appendTo(e),this.button.attr("data-href",this.url),this.options.size&&this.button.attr("data-size",this.options.size),this.options.annotation&&this.button.attr("data-annotation",this.options.annotation),this.options.align&&this.button.attr("data-align",this.options.align),this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo),this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations),this.button.attr("data-onstartinteraction","OPanda_GoogleShare_StartInteraction"),this.button.attr("data-onendinteraction","OPanda_GoogleShare_EndInteraction"),this.button.addClass("g-plus").attr("data-action","share"),setTimeout(function(){window.gapi.plus.go(e[0])},100),t.pandalocker.tools.isTabletOrMobile()){var n=t("<div class='onp-sl-feature-overlay'></div>").appendTo(e);n.click(function(){var e=[];e.push(["url",o.url]);var n=t.pandalocker.tools.URL().scheme("https").host("plus.google.com").path("/share").query(e),i=550,r=420,a=screen.width?screen.width/2-350+t.pandalocker.tools.findLeftWindowBoundry():0,s=screen.height?screen.height/2-225+t.pandalocker.tools.findTopWindowBoundry():0,l=window.open(n,"GoogleShareWindow","width="+i+",height="+r+",left="+a+",top="+s);return setTimeout(function(){var e=setInterval(function(){l&&l.closed===!1||(clearInterval(e),t(document).trigger("onp-sl-google-share",[o.url]))},200)},200),!1})}},t.pandalocker.controls["social-buttons"]["google-share"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="youtube-subscribe",e.sdk="google-client",e._defaults={clientId:null,channelId:null,layout:"default",count:"default"},e._extractUrl=function(){return this.options.channelId},e.prepareOptions=function(){this.url=this._extractUrl(),this.options.channelId||this.showError(t.pandalocker.lang.errors.emptyYoutubeChannelId),this.options.clientId||this.showError(t.pandalocker.lang.errors.emptyGoogleClientId),"vertical"===this.groupOptions.layout?this.showError(t.pandalocker.lang.errors.unsupportedYoutubeSubscribeLayout):this.groupOptions.counters||(this.options.count="hidden")},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-youtube-subscribe",function(){e.unlock("button",e.name,e.url)})},e.renderButton=function(e){var o=this;this.button=t("<div></div>").appendTo(e),this.button.attr("data-channelid",this.options.channelId),this.button.attr("data-layout",this.options.layout),this.button.attr("data-count",this.options.count),this.button.addClass("g-ytsubscribe"),setTimeout(function(){window.gapi.ytsubscribe.go(e[0])},100);var n=t("<div class='onp-sl-youtube-subscribe-overlay'></div>").appendTo(e);n.click(function(){return o.authorize(!1,function(e){return"immediate_failed"!==e.error?e&&e.status.signed_in?void o.subscribe():void o.showNotice(t.pandalocker.lang.errors_not_signed_in):void 0}),!1})},e.authorize=function(t,e){var o=this,n={};n.client_id=o.options.clientId,n.immediate=t,n.scope="https://www.googleapis.com/auth/youtube",gapi.auth.authorize(n,e)},e.subscribe=function(){var e=this;gapi.client.load("youtube","v3",function(){var o=gapi.client.youtube.subscriptions.insert({part:"snippet",resource:{snippet:{resourceId:{kind:"youtube#channel",channelId:e.options.channelId}}}});o.execute(function(o){return o.error&&"subscriptionDuplicate"!=o.error.data[0].reason?e.showNotice(o.error.data[0].message):void t(document).trigger("onp-sl-youtube-subscribe")})})},t.pandalocker.controls["social-buttons"]["youtube-subscribe"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.socialButton);e.name="linkedin-share",e.verification.container=".IN-widget",e.verification.timeout=5e3,e._defaults={url:null,counter:"right"},e.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.counter="top":this.groupOptions.counters||(this.options.counter="none")},e.setupEvents=function(){var e=this;t(document).bind("onp-sl-linkedin-share",function(o,n){e.url===t.pandalocker.tools.URL.normalize(n)&&e.unlock("button",e.name,e.url)})},e.renderButton=function(e){var o=this;this.button=t('<script type="IN/Share" data-onsuccess="OPanda_LinkedinShare_Callback" data-success="OPanda_LinkedinShare_Callback" data-onSuccess="OPanda_LinkedinShare_Callback"></script>'),this.options.counter&&this.button.attr("data-counter",this.options.counter),this.button.attr("data-url",this.url),this.button.appendTo(e),IN.init(),IN.parse&&IN.parse(this.button[0]),e.click(function(){setTimeout(function(){if(t.pandalocker.sdk.linkedin._activePopup){var e=t.pandalocker.sdk.linkedin._activePopup;t.pandalocker.sdk.linkedin._activePopup=!1;var n=setInterval(function(){e&&e.closed===!1||(clearInterval(n),t(document).trigger("onp-sl-linkedin-share",[o.url]))},200)}},200)})},t.pandalocker.controls["social-buttons"]["linkedin-share"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.group);e._defaults={order:["facebook","twitter","google"],facebook:{version:"v2.5"},twitter:{},google:{},linkedin:{}},e.name="connect-buttons",e.setup=function(){this.isFirst||(this.options.text.message=this.options.text.message||t.pandalocker.lang.connectButtons.defaultMessage,this.options.text.message=t.pandalocker.tools.normilizeHtmlOption(this.options.text.message))},t.pandalocker.groups["connect-buttons"]=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.actionControl);e.tag='<a href="#"></a>',e.render=function(e){var o=this;if(this.sdk=this.sdk||this.name,this.control.addClass("onp-sl-button"),this.icon=t("<div class='onp-sl-icon'></div>"),this.icon.appendTo(e),this.container=t("<div class='onp-sl-connect-button onp-sl-social-button-"+this.name+"'></div>"),this.container.appendTo(e),!this._hasError()){this._lockLoadingState();var n=function(){var t=o.requireSdk(o.sdk,o.options);t.fail(function(t){o._unlockLoadingState(),o.showError(t)}),t.done(function(){o.setupEvents&&o.setupEvents(),o.renderButton(o.container)})};this.locker.options.lazy?this.addHook("raw-impress",function(){o._rendered||(o._rendered=!0,n())}):n()}this.handleClick(),this._checkWaitingSubscription()},e.processButtonTitle=function(e,o){var n=e.replace("{long}",t.pandalocker.lang.signin_long);return n=n.replace("{short}",t.pandalocker.lang.signin_short),n=n.replace("{name}",o)},e.handleClick=function(){var t=this;this.control.click(function(){return t.runHook("raw-interaction"),t._hasError()||t._isLoading()?void 0:(t.connect(function(e,o){t.runActions(e,o,!0)}),!1)})},e._lockLoadingState=function(){this._setLoadingState("connect-button")},e._unlockLoadingState=function(){this._removeLoadingState("connect-button")},e.connect=function(){throw new Error("The control should implement the method 'connect'")},e._getStorageIdentity=function(){return"opanda_"+t.pandalocker.tools.hash(this.name)+"_hash_"+this.name},t.pandalocker.entity.connectButton=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.connectButton);e.name="facebook",e._defaults={},e.prepareOptions=function(){this.permissions=["public_profile","email"],this.restPermissions=this.permissions,this.declinedPermissions=[]},e.renderButton=function(e){var o=this,n=this.processButtonTitle(this.lang.viaSignInLong,t.pandalocker.lang.signin_facebook_name),i=this.processButtonTitle(this.lang.viaSignInShort,t.pandalocker.lang.signin_facebook_name);this.longTitle=t("<span class='onp-sl-long'>"+n+"</span>").appendTo(e),this.shortTtle=t("<span class='onp-sl-short'>"+i+"</span>").appendTo(e);var r=this.groupOptions.loadingTimeout||2e4,a=!1;setTimeout(function(){a||o.showError(t.pandalocker.lang.errors.invlidFacebookAppId)},r),this._getLoginStatus(function(){a=!0,o._unlockLoadingState()})},e.connect=function(e){var o=this;if("connected"===o._status&&!this.restPermissions.length)return this._identify(function(t){e(t,o._serviceData)});var n={scope:o.restPermissions.join(",")};o.declinedPermissions.length>0&&(n.auth_type="rerequest");var i=!1;o._trackWindow("facebook.com/dialog/oauth",function(){setTimeout(function(){i||(o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in))},500)}),FB.login(function(n){i=!0,o._checkPermissions(n,function(){return"connected"!==o._status?(o.runHook("raw-social-app-declined"),void o.showNotice(t.pandalocker.lang.errors_not_signed_in)):o.restPermissions.length?(o.runHook("raw-social-app-declined"),void o.showNotice(t.pandalocker.lang.res_errors_not_granted.replace("{permissions}",o.restPermissions.join(", ")))):o._identify(function(t){e(t,o._serviceData)})})},n)},e._getLoginStatus=function(t){var e=this;FB.getLoginStatus(function(o){e._checkPermissions(o,t)})},e._checkPermissions=function(e,o){var n=this;return this._status=e.status,this._serviceData=e,e&&"connected"===this._status?void FB.api("/me/permissions",function(e){if(e&&e.data){if(!e.data[0]||e.data[0].permission||e.data[0].status){var i=t.grep(e.data,function(t){return"granted"!==t.status}),r=t.grep(e.data,function(t){return"granted"==t.status});i=t.map(i,function(t){return t.permission}),r=t.map(r,function(t){return t.permission})}else{var r=[],i=[];for(var a in e.data[0])e.data[0][a]?r.push(a):i.push(a)}n.restPermissions=t.pandalocker.tools.diffArrays(n.permissions,r),n.declinedPermissions=t.pandalocker.tools.unionArrays(n.restPermissions,i),o&&o()}}):void(o&&o())},e._identify=function(t){FB.api("/me?fields=email,first_name,last_name,gender,link",function(e){var o={};return e?(o.source="facebook",o.email=e.email,o.displayName=e.first_name+" "+e.last_name,o.name=e.first_name,o.family=e.last_name,o.gender=e.gender,o.facebookUrl=e.link,o.image="https://graph.facebook.com/"+e.id+"/picture?type=large",o.social=!0,o.facebookId=e.id,void t(o)):t(o)})},t.pandalocker.controls["connect-buttons"].facebook=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.connectButton);e.name="google",e.sdk="google-client",e._defaults={},e.prepareOptions=function(){return this.options.clientId?(this.permissions=["https://www.googleapis.com/auth/userinfo.profile"],this.permissions.push("https://www.googleapis.com/auth/userinfo.email"),-1===t.inArray("youtube-subscribe",this.options.actions)||(this.permissions.push("https://www.googleapis.com/auth/youtube"),this.options.youtubeSubscribe&&this.options.youtubeSubscribe.channelId)?(this.restPermissions=this.permissions,void(this.declinedPermissions=[])):this.showError(t.pandalocker.lang.connectButtons.errorYouTubeChannelMissed)):void this.showError(t.pandalocker.lang.connectButtons.google.clientIdMissed)},e.renderButton=function(e){var o=this.processButtonTitle(this.lang.viaSignInLong,t.pandalocker.lang.signin_google_name),n=this.processButtonTitle(this.lang.viaSignInShort,t.pandalocker.lang.signin_google_name);this.longTitle=t("<span class='onp-sl-long'>"+o+"</span>").appendTo(e),this.shortTtle=t("<span class='onp-sl-short'>"+n+"</span>").appendTo(e),this._unlockLoadingState()},e.connect=function(e){var o=this,n=!1,i={callback:function(i){return"immediate_failed"!==i.error?(n=!0,i&&i.status.signed_in?o._identify(function(n,r){return"error"===n?void o.showNotice(t.pandalocker.lang.connectButtons.google.unexpectedError.replace("{0}",r)):void e(r,i)}):(o.runHook("raw-social-app-declined"),void o.showNotice(t.pandalocker.lang.errors_not_signed_in))):void 0}};if(i.clientid=this.options.clientId,i.cookiepolicy="single_host_origin",i.scope=this.permissions.join(" "),this.options.share){var r=t.pandalocker.tools.capitaliseFirstLetter(this.options.share.type||"add");i.requestvisibleactions="http://schema.org/"+r+"Action"}o._trackWindow("google.com/o/oauth2",function(){setTimeout(function(){
n||(o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in))},500)}),console.log(i),gapi.auth.signIn(i)},e._identify=function(t){gapi.client.load("plus","v1").then(function(){gapi.client.plus.people.get({userId:"me"}).then(function(e){var o={};return e&&e.result?(o.source="google",o.email=e.result.emails&&e.result.emails[0]&&e.result.emails[0].value,o.displayName=e.result.displayName,o.name=e.result.name&&e.result.name.givenName,o.family=e.result.name&&e.result.name.familyName,o.gender=e.result.gender,o.googleUrl=e.result.url,o.social=!0,e.result.image&&e.result.image.url&&(o.image=e.result.image.url.replace(/\?sz=\d+/gi,"")),void t("success",o)):t("error",o)},function(e){t("error",e.result.error.message)})})},e.runYoutubeSubscribeAction=function(t,e,o,n,i){var r=this;gapi.client.load("youtube","v3",function(){var t=gapi.client.youtube.subscriptions.insert({part:"snippet",resource:{snippet:{resourceId:{kind:"youtube#channel",channelId:r.options.youtubeSubscribe.channelId}}}});t.execute(function(t){return t&&t.error?t.error.data&&t.error.data[0]&&"subscriptionDuplicate"===t.error.data[0].reason?void i():(console&&console.log&&console.log(t),r.showError(t.error.message),void i("error")):(r.runHook("got-youtube-subscriber",[t]),void i())})})},t.pandalocker.controls["connect-buttons"].google=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.connectButton);e.name="twitter",e._defaults={},e.prepareOptions=function(){return this.options.proxy?-1===t.inArray("follow",this.options.actions)||this.options.follow&&this.options.follow.user?-1===t.inArray("tweet",this.options.actions)||this.options.tweet&&this.options.tweet.message?void 0:this.showError(t.pandalocker.lang.connectButtons.errorTwitterMessageMissed):this.showError(t.pandalocker.lang.connectButtons.errorTwitterUserMissed):void this.showError(t.pandalocker.lang.connectButtons.twitter.proxyEmpty)},e.renderButton=function(e){var o=this,n=this.processButtonTitle(this.lang.viaSignInLong,t.pandalocker.lang.signin_twitter_name),i=this.processButtonTitle(this.lang.viaSignInShort,t.pandalocker.lang.signin_twitter_name);this.longTitle=t("<span class='onp-sl-long'>"+n+"</span>").appendTo(e),this.shortTtle=t("<span class='onp-sl-short'>"+i+"</span>").appendTo(e),o._unlockLoadingState()},e.connect=function(e){var o=this;if(t.pandalocker.data.twitterOAuthReady)this._identify(function(t){e(t,o._getServiceData())});else{var n=t.extend(!0,{},o.options);delete n.proxy;var i={opandaHandler:"twitter",opandaRequestType:"init",opandaTwitterOptions:JSON.stringify(n)},r=t.pandalocker.tools.cookie("opanda_twid");r&&"null"!==r&&(i.opandaVisitorId=r);var a=o.options.proxy;for(var s in i)i.hasOwnProperty(s)&&(a=t.pandalocker.tools.updateQueryStringParameter(a,s,i[s]));o._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){t.pandalocker.data.twitterOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in))},500)}),window.open(a,"Twitter Sign-In","width=500,height=450,resizable=yes,scrollbars=yes,status=yes"),window.OPanda_TwitterOAuthCompleted=function(n){t.pandalocker.data.twitterOAuthReady=!0,o._saveVisitorId(n),o.connect(e)},window.OPanda_TwitterOAuthDenied=function(e){o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in),o._saveVisitorId(e)}}},e._saveVisitorId=function(e){this._visitorId=e,t.pandalocker.tools.cookie("opanda_twid",e,{expires:1e3,path:"/"})},e._getServiceData=function(){var t=this;return{visitorId:t._visitorId}},e._identify=function(e){var o=this,n=t.ajax({type:"POST",dataType:"json",url:o.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:o._visitorId},success:function(t){(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var o={};if(!t)return e(o);if(t.name){var i=t.name.split(" ",2);2===i.length?(o.name=i[0],o.family=i[1]):o.name=t.name}else o.name=t.name;o.source="twitter",o.email=t.email,o.displayName=t.screen_name,o.twitterUrl="https://twitter.com/"+t.screen_name,t.profile_image_url&&(o.image=t.profile_image_url.replace("_normal","")),e(o)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),e({})}})},e.runFollowAction=function(e,o,n,i,r){var a=this,s={opandaHandler:"twitter",opandaRequestType:"follow",opandaVisitorId:a._visitorId,opandaFollowTo:n.user,opandaNotifications:n.notifications};s=t.pandalocker.filters.run(a.locker.id+".ajax-data",[s]),s=t.pandalocker.filters.run(a.locker.id+".twitter-follow.ajax-data",[s]);var l=t.ajax({type:"POST",dataType:"json",url:a.options.proxy,data:s});l.success(function(t){return(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to follow: "+l.responseText),t&&t.error?(a.showScreen("default"),void a.showNotice("Unable to perform the follow action due to the error: "+t.error)):void r()}),l.error(function(){a.showScreen("default"),a.showNotice("Unable to perform the follow action due to the unexpected error. See the logs for more details."),console&&console.log&&console.log("Unable to follow: "+l.responseText)})},e.runTweetAction=function(e,o,n,i,r){var a=this,s={opandaHandler:"twitter",opandaRequestType:"tweet",opandaVisitorId:a._visitorId,opandaTweetMessage:n.message};s=t.pandalocker.filters.run(a.locker.id+".ajax-data",[s]),s=t.pandalocker.filters.run(a.locker.id+".twitter-tweet.ajax-data",[s]);var l=t.ajax({type:"POST",dataType:"json",url:a.options.proxy,data:s});l.success(function(t){return(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to tweet: "+l.responseText),t&&t.error?(a.showScreen("default"),void a.showNotice("Unable to perform the tweet action due to the error: "+t.error)):void r()}),l.error(function(){a.showScreen("default"),a.showNotice("Unable to perform the tweet action due to the unexpected error. See the logs for more details."),console&&console.log&&console.log("Unable to follow: "+l.responseText)})},t.pandalocker.controls["connect-buttons"].twitter=e}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.connectButton);e.name="linkedin",e._defaults={},e.prepareOptions=function(){return this.options.clientId?void 0:void this.showError(t.pandalocker.lang.connectButtons.linkedin.clientIdMissed)},e.renderButton=function(e){var o=this,n=this.processButtonTitle(this.lang.viaSignInLong,t.pandalocker.lang.signin_linkedin_name),i=this.processButtonTitle(this.lang.viaSignInShort,t.pandalocker.lang.signin_linkedin_name);this.longTitle=t("<span class='onp-sl-long'>"+n+"</span>").appendTo(e),this.shortTtle=t("<span class='onp-sl-short'>"+i+"</span>").appendTo(e),o._unlockLoadingState()},e.connect=function(e){var o=this;if(t.pandalocker.data.linkedInOAuthReady)this._identify(function(t){e(t,o._getServiceData())});else{var n=t.extend(!0,{},o.options);delete n.proxy;var i={opandaHandler:"linkedin",opandaRequestType:"init",opandaLinkedinOptions:JSON.stringify(n)},r=o.options.proxy;for(var a in i)i.hasOwnProperty(a)&&(r=t.pandalocker.tools.updateQueryStringParameter(r,a,i[a]));o._trackWindow("opandaHandler=linkedin",function(){setTimeout(function(){t.pandalocker.data.linkedInOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in))},500)}),window.open(r,"LinkedIn Sign-In","width=500,height=450,resizable=yes,scrollbars=yes,status=yes"),window.OPanda_LinkedInOAuthCompleted=function(n){t.pandalocker.data.linkedInOAuthReady=!0,o._accessToken=n,o.connect(e)},window.OPanda_LinkedInOAuthDenied=function(){o.runHook("raw-social-app-declined"),o.showNotice(t.pandalocker.lang.errors_not_signed_in)}}},e._getServiceData=function(){var t=this;return{accessToken:t._accessToken}},e._identify=function(e){var o=this,n=t.ajax({type:"POST",dataType:"json",url:o.options.proxy,data:{opandaHandler:"linkedin",opandaRequestType:"user_info",opandaAccessToken:o._accessToken},success:function(t){(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var o={};return t?(o.source="linkedin",o.email=t.emailAddress,o.displayName=t.firstName+" "+t.lastName,o.name=t.firstName,o.family=t.lastName,o.linkedinUrl=t.publicProfileUrl,o.social=!0,t.pictureUrls&&t.pictureUrls.values&&(o.image=t.pictureUrls.values[0]),void e(o)):e(o)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),e({})}})},t.pandalocker.controls["connect-buttons"].linkedin=e}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.googleClient=t.pandalocker.sdk.googleClient||{name:"google-client",url:"//apis.google.com/js/client:platform.js?onload=OPanda_GoogleClient_Callback",scriptId:"google-client-jssdk",timeout:1e4,isLoaded:function(){return window.gapi&&"object"==typeof window.gapi.auth},prepare:function(){var e=this;window.OPanda_GoogleClient_Callback=function(){t(document).trigger(e.name+"-script-loaded")}}}}(jQuery),!function(t){"use strict";t.onepress||(t.onepress={}),t.pandalocker.sdk||(t.pandalocker.sdk={}),t.pandalocker.sdk.linkedinConnect=t.pandalocker.sdk.linkedinConnect||{name:"linkedin-connect",url:"//platform.linkedin.com/in.js?async=true",scriptId:"linkedin-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.OPanda_LinkedinShare_Callback=function(e){t(document).trigger("onp-sl-linkedin-share",[e])}},createEvents:function(){var e=this,o=this.isLoaded(),n=function(){window.IN.init({api_key:e.options.apiKey}),window.IN.init=function(){},t(document).trigger(e.name+"-init")};return o?void n():void t(document).bind(e.name+"-script-loaded",function(){n()})}}}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.group);e._defaults={order:["form"],text:t.pandalocker.lang.subscription.defaultText,separator:{type:"hiding-link",title:t.pandalocker.lang.misc_or_enter_email}},e.name="subscription",t.pandalocker.groups.subscription=e}(jQuery),!function($){"use strict";var form=$.pandalocker.tools.extend($.pandalocker.entity.actionControl);form.name="form",form._defaults={type:"email-form",fields:null,unlocksPerPage:!1},form.setup=function(){this.options.actions&&0!==this.options.actions.length||(this.options.actions=["subscribe"]),$.pandalocker.entity.actionControl.setup.apply(this),this.options.requireName=this.options.requireName||this.options.subscribe&&this.options.subscribe.requireName,this.advancedValidation=!0,"email-form"===this.options.type?(this.advancedValidation=!1,this.options.fields=[{id:"email",type:"email",placeholder:$.pandalocker.lang.errors_empty_email,req:!0}]):"name-email-form"===this.options.type&&(this.advancedValidation=!0,this.options.fields=[{id:"fullname",type:"text",placeholder:$.pandalocker.lang.misc_enter_your_name,req:!0},{id:"email",type:"email",placeholder:$.pandalocker.lang.misc_enter_your_email,req:!0}])},form._memorize=function(t,e){var o="opanda_"+t;if(localStorage&&localStorage.setItem)try{localStorage.setItem(o,e)}catch(n){$.pandalocker.tools.cookie(o,e,{expires:365,path:"/"})}else $.pandalocker.tools.cookie(o,e,{expires:365,path:"/"})},form._getFromMemory=function(t){var e="opanda_"+t,o=localStorage&&localStorage.getItem&&localStorage.getItem(e);return o||(o=$.pandalocker.tools.cookie(e)),o},form.submit=function(){var t=this;if(!this.validate())return!1;if(this.options.preview)return console.log(this.getValues()),void this.showNotice(window.bizpanda&&window.bizpanda.res&&window.bizpanda.res["subscription-preview-mode"]||"The locker is in the preview mode. The subscription does not work here.");var e=this.$button.text();this.$button.addClass("load").prop("disabled",!0),this.$button.html("&nbsp;");var o=t.runActions(this.getValues(),{});o.fail(function(){t.$button.removeClass("load").removeProp("disabled"),t.$button.text(e)})},form.getValues=function(){var t=this,e=this.options.fields,o={};return $.each(e,function(e,n){n&&n.type&&n.id&&(o[n.id]=t.getFieldValue(n))}),o},form.getFieldValue=function(t){var e=t.type,o=$.pandalocker.hooks.run("get-field-value-"+e,[t]);if("undefined"!=typeof o)return o;"email"===t.id?this._memorize("email",$.trim(t._$input.val())):"fullname"===t.id&&this._memorize("fullname",$.trim(t._$input.val()));var n=$.pandalocker.tools.capitaliseFirstLetter($.pandalocker.tools.camelCase(e)),i="get"+n+"Value";return this[i]?this[i](t):t._$input?$.trim(t._$input.val()):null},form.getDateValue=function(t){return $.pandalocker.tools.isTabletOrMobile()?$.trim(t._$input.val()):t._$input.data("value")},form.getCheckboxValue=function(t){return t._$input.is(":checked")?t.onValue:t.offValue},form.validate=function(){var t=this,e=this.options.fields,o=!0;return $.each(e,function(e,n){t.advancedValidation&&n._$input&&n._$input.bind("change keyup blur",function(){t.validateField(n)}),t.validateField(n)||(o=!1)}),o},form.validateField=function(field){var type=field.type;this.hideValidationErrors(field);var result=$.pandalocker.hooks.run("validate-field-"+type,[field]);if("undefined"!=typeof result)return result;var typeName=$.pandalocker.tools.capitaliseFirstLetter($.pandalocker.tools.camelCase(type)),method="validate"+typeName,res=this[method]?this[method](field):!0;if(res&&field.validation){var value=$.trim(field._$input.val()),expression=null,validationError=field.validationError;if(field.validation instanceof RegExp)expression=field.validation;else{var regexp=new RegExp("^/.*?/[ims]*$");if(regexp.test(field.validation))eval("expression = "+field.validation);else if("month/year"===field.validation){expression=/^\d\d\/\d\d\d\d$/;var parts=value.split("/");if(parts.length<2)return this.showValidationError(field,$.pandalocker.lang.errors_invalid_date),!1;var month=parseInt(parts[0]),year=parseInt(parts[1]);if(1>month||month>12)return this.showValidationError(field,$.pandalocker.lang.errors_invalid_month),!1}else if("month"===field.validation){var month=parseInt(value);if(1>month||month>12)return this.showValidationError(field,$.pandalocker.lang.errors_invalid_month),!1}else expression="year"===field.validation?/^\d\d\d\d$/:new RegExp(field.validation)}if(expression&&!expression.test(value))return this.showValidationError(field,validationError?validationError:$.pandalocker.lang.errors_invalid_value),!1}return this.runHook("size-changed"),res},form.validateText=function(t,e){var o=$.trim(t._$input.val());return!t.req||o&&o.length?!0:("fullname"===t.id?e=$.pandalocker.lang.errors_empty_name:"email"===t.id&&(e=$.pandalocker.lang.errors_empty_email),this.showValidationError(t,e?e:$.pandalocker.lang.errors_empty_field),!1)},form.validateHidden=function(){return!0},form.validateDate=function(t){var e=this.validateText(t);return e?!0:e},form.validateEmail=function(t){var e=this.validateText(t);if(!e)return e;var o=$.trim(t._$input.val());return $.pandalocker.tools.isValidEmailAddress(o)?!0:(this.showValidationError(t,$.pandalocker.lang.errors_inorrect_email),!1)},form.validatePhone=function(t){return this.validateText(t)},form.validateUrl=function(t){var e=this.validateText(t);if(!e)return e;var o=$.trim(t._$input.val());return $.pandalocker.tools.isValidUrl(o)?!0:(this.showValidationError(t,"Please enter a valid URL."),!1)},form.validateBirthday=function(t){var e=this.validateText(t);if(!e)return e;var o=$.trim(t._$input.val()),n=o.split("/");if(n.length<2)return this.showValidationError(t,"Please enter a valid date."),!1;var i=parseInt(n[1]),r=parseInt(n[0]);if("mm/dd"===t.maskPlaceholder)var i=parseInt(n[0]),r=parseInt(n[1]);return 1>r||r>31?(this.showValidationError(t,"Please enter a valid date."),!1):1>i||i>12?(this.showValidationError(t,"Please enter a valid date."),!1):!0},form.validateInteger=function(t){var e=this.validateText(t);if(!e)return e;var o=$.trim(t._$input.val());return o||t.req?(o=parseInt(o),isNaN(o)?(this.showValidationError(t,"Please enter an integer number."),!1):t.min&&o<t.min?(this.showValidationError(t,"Please enter a number greater than or equal to {0}.".replace("{0}",t.min)),!1):t.max&&o>t.max?(this.showValidationError(t,"Please enter a number less than or equal to {0}.".replace("{0}",t.max)),!1):!0):!0},form.validateCheckbox=function(t){var e=t._$input.is(":checked");return t.req&&!e?(this.showValidationError(t,"Please mark this checkbox to continue."),!1):!0},form.showValidationError=function(t,e){var o=t._$wrap,n=this;if(this.advancedValidation){var i=$('<div class="onp-sl-validation-error"></div>').html(e);o.append(i),o.addClass("onp-sl-error-state")}else{if(this._validationErrorShown)return;this._validationErrorShown=!0,this.showNotice(e,function(){n._validationErrorShown=!1})}},form.hideValidationErrors=function(t){if(this.advancedValidation){var e=t._$wrap;e.find(".onp-sl-validation-error").remove(),e.removeClass("onp-sl-error-state")}},form.render=function(t){var e=this;this.options.fields&&this.options.fields.length>1&&this.addClassToLocker("onp-sl-custom-form");var o=this.options.fields;for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];i&&i.type&&(i._$input=this.renderField(t,i))}t.find("input").keypress(function(t){13===t.which&&e.control.find(".onp-sl-submit").click()}),this.$button=this.renderSubmitButton(t),this._checkWaitingSubscription()},form.renderSubmitButton=function(t){var e=this,o=this.options.buttonText||this.groupOptions.text.buttonText||this.lang.btnSubscribe,n=$.pandalocker.tools.normilizeHtmlOption(this.options.noSpamText||this.groupOptions.text.noSpamText||$.pandalocker.lang.noSpam),i=$("<div></div>").addClass("onp-sl-field").addClass("onp-sl-field-submit"),r=$("<button class='onp-sl-button onp-sl-form-button onp-sl-submit'>"+o+"</button>");return this.group.isFirst&&r.addClass("onp-sl-button-primary"),r.appendTo(i),n.addClass("onp-sl-note").addClass("onp-sl-nospa"),n.appendTo(i),r.click(function(){return e.submit(),!1}),i.appendTo(t),r},form.renderField=function(t,e){var o=e.type,n=e.id,i=$("<div class='onp-sl-field'></div>");if(e._$wrap=i,n&&i.addClass("onp-sl-field-"+n),o&&i.addClass("onp-sl-field-"+o),e.title&&"hidden"!==o){var r=$("<div class='onp-sl-field-title'></div>");r.html(e.title),r.appendTo(i)}i.appendTo(t);var a=$("<div class='onp-sl-field-control'></div>");a.appendTo(i);var s=$.pandalocker.hooks.run("render-"+o,[t,e]);if(s)return s;var l=$.pandalocker.tools.capitaliseFirstLetter($.pandalocker.tools.camelCase(o)),c="render"+l;if(!this[c])return this.showError('Cannot render a field of the type "'+o+'".');var d=this[c](a,e);return"email"===e.id?d.val(this._getFromMemory("email")):"fullname"===e.id&&d.val(this._getFromMemory("fullname")),d},form.renderEmail=function(t,e){return this.renderText(t,e,"text","email")},form.renderPhone=function(t,e){return this.renderText(t,e,"text","phone")},form.renderUrl=function(t,e){return this.renderText(t,e,"text","website")},form.renderInteger=function(t,e){return this.renderText(t,e,"text","interger")},form.renderHidden=function(t,e){var o=$("<input type='hidden' id='onp-sl-input-"+e.id+"' />");return e.value&&o.attr("value",e.value),o.appendTo(t),o},form.renderBirthday=function(t,e){return e.mask||(e.mask="99/99"),e.maskPlaceholder||(e.maskPlaceholder="dd/mm"),this.renderText(t,e,"text","birthday")},form.renderDate=function(t,e){if($.pandalocker.tools.isTabletOrMobile())return this.renderText(t,e,"date");var o=this.renderText(t,e,"text");return window.Pikaday?(o.attr("readOnly","true"),new Pikaday({field:o[0],container:t[0],format:"DD MMM YYYY",onSelect:function(){o.data("value",this.getMoment().format("YYYY-MM-DD"))}}),o):this.showError('Unable to create a field of the type "date" due to the lib Pikaday not found.')},form.renderText=function(t,e,o,n){if(e.icon){var i=e.iconPosition||"right";if("none"!==i){var r=$("<i class='onp-sl-icon'></i>").addClass(e.icon);r.addClass("right"===i?"onp-sl-icon-append":"onp-sl-icon-prepend"),r.appendTo(t)}}o||(o="text"),e.password&&(o="password");var a=$("<input type='"+o+"' class='onp-sl-input' id='onp-sl-input-"+e.id+"' />");if(e.placeholder&&a.attr("placeholder",e.placeholder),e.value&&a.attr("value",e.value),n&&a.attr("name",n),e.mask){if(!$.mask)return this.showError("Unable to create a masked input, the lib not found");var s={};e.maskPlaceholder&&(s.placeholder=e.maskPlaceholder),a.mask(e.mask,s)}return a.appendTo(t),a},form.renderCheckbox=function(t,e){var o=$("<label></lable>"),n=$("<input type='checkbox' />");n.appendTo(o),e.markedByDefault&&n.attr("checked","checked");var i=$("<span class='onp-sl-checkbox' id='onp-sl-input-"+e.id+"' />");i.appendTo(o);var r=$("<span></span>");return e.description&&r.html(e.description),r.appendTo(o),o.appendTo(t),n},form.renderDropdown=function(t,e){var o=$("<select class='onp-sl-input onp-sl-dropdown'></select>"),n=$("<i></i>");for(var i in e.choices){var r=$("<option></option>").attr("value",e.choices[i]).text(e.choices[i]);r.appendTo(o)}return o.appendTo(t),n.appendTo(t),o},form.renderSeparator=function(){return null},form.renderHtml=function(t,e){return t.html(e.html),null},form.renderLabel=function(t,e){return t.html(e.text),null},form._getStorageIdentity=function(){var t="";if(this.options.unlocksPerPage){var e=$.pandalocker.tools.URL.normalize(this.options.url||window.location.href);t="opanda_"+$.pandalocker.tools.hash(e)+"_hash_"+this.name}else t="opanda_"+$.pandalocker.tools.hash(this.options.listId+this.options.service)+"_hash_"+this.name;return t=$.pandalocker.filters.run("subscription-form-get-storage-identity",[t])},$.pandalocker.controls.subscription.form=form}(jQuery),!function(t){"use strict";t.fn.pandalocker||(t.pandalocker.widget("pandalocker",{options:{},_isLocked:!1,_defaults:{text:{header:null,message:null},theme:{name:"starter"},lang:"en_US",groups:{order:["social-buttons"],union:"or"},terms:!1,privacyPolicy:!1,termsPopup:!1,connectButtons:{},socialButtons:{},overlap:{mode:"full",position:"middle",intensity:5,altMode:"transparence"},cssClass:null,demo:!1,highlight:!0,googleAnalytics:!1,locker:{off:!1,stepByStep:!1,close:!1,timer:0,mobile:!0,expires:!1,useCookies:!1,scope:!1,loadingTimeout:1e3,tumbler:!0,tumblerInterval:500,naMode:"show-error",visibility:[],inAppBrowsers:"visible_with_warning",inAppBrowsersWarning:"You are viewing this page in the {browser}. The locker may work incorrectly in this browser. Please open this page in a standard browser."},subscribeActionOptions:{},content:null,proxy:null},getState:function(){return this._isLocked?"locked":"unlocked"},_create:function(){var t=this;this.id=this.options.id||this._generteId(),this._prepareOptions(),this._setupVariables(),this._initExtras(),this._initHooks(),this._initGroups(),this._initScreens(),this._setupVisitorId(),this.runHook("init"),this._canLock()&&this.requestState(function(e){"locked"===e?t._lock():t._unlock("provider")})},_generteId:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;5>o;o++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},_prepareOptions:function(){var e=this,o=t.extend(!0,{},this._defaults);o=this.applyFilters("filter-default-options",o),this.options.theme&&!t.isPlainObject(this.options.theme)&&(this.options.theme={name:e.options.theme}),"object"!=typeof this.options.theme&&(this.options.theme={name:e.options.theme});var n=this.options.theme.name||this._defaults.theme;t.pandalocker.themes[n]&&(o=t.extend(!0,{},o,t.pandalocker.themes[n]));var i=t.extend(!0,o,this.options);t.isArray(i.groups)&&(i.groups=t.extend(!0,{},o.groups,{order:i.groups})),i.locker.timer=parseInt(i.locker.timer),0===i.locker.timer&&(i.locker.timer=null),this.options=this.applyFilters("filter-options",i),"blurring"!==this.options.overlap.mode||t.pandalocker.tools.supportBlurring()||(this.options.overlap.mode=this.options.overlap.altMode)},_setupVariables:function(){if(this.style="onp-sl-"+this.options.theme.name,this.overlap="full"===this.options.overlap.mode?!1:this.options.overlap.mode,this.groupUnion=this.options.groups.union,this.options.groups.order.length>0)switch(this.options.groups.order[0]){case"connect-buttons":this.lockerType="signin-locker",this.langScope="signinLocker";break;case"subscription":this.lockerType="email-locker",this.langScope="emailLocker";break;default:this.lockerType="social-locker",this.langScope="socialLocker"}this.lang=t.pandalocker.lang.scopes[this.langScope]},_initExtras:function(){for(var e in t.pandalocker.extras)t.pandalocker.extras.hasOwnProperty(e)&&t.pandalocker.extras[e].init&&t.pandalocker.extras[e].init.apply(this)},_initHooks:function(){var t=this,e=!1,o=!1,n=!1,i=!1;this.addHook("raw-interaction",function(){i&&(e||(e=!0,t.runHook("interaction")))}),this.addHook("raw-error",function(){i&&(o||(o=!0,t.runHook("error")))}),this.addHook("raw-impress",function(){"default"===t._currentScreenName&&(i=!0,t.runHook("impress"))}),this.addHook("raw-social-app-declined",function(){i&&(n||(n=!0,t.runHook("social-app-declined")))})},_initGroups:function(){this._groups=[];for(var e=0;e<this.options.groups.order.length;e++){var o=this.options.groups.order[e],n=t.pandalocker.tools.camelCase(o),i=this.options[n]||{};if(0==e&&(i.text=this.options.text),!t.pandalocker.groups[o])return void this._showError("core",'The control group "'+o+'" not found.');var r=t.pandalocker.tools.extend(t.pandalocker.groups[o]);i.index=parseInt(e)+1,r.init(this,i),this._groups[e]=r}},_setupVisitorId:function(){this.vid=t.pandalocker.tools.getValue("opanda_vid"),this.vid||(this.vid=t.pandalocker.tools.guid(),t.pandalocker.tools.saveValue("opanda_vid",this.vid,365))},_canLock:function(){if(t.pandalocker.browser.msie&&7===parseInt(t.pandalocker.browser.version,10))return this._unlock("ie7"),!1;if(this.options.locker.visibility){var e=new t.pandalocker.services.visibility;if(!e.canLock(this.options.locker.visibility))return this._unlock("visibility"),!1}if(!this.options.locker.mobile&&t.pandalocker.tools.isMobile())return this._unlock("mobile"),!1;if("hidden"===!this.options.locker.inAppBrowsers&&t.pandalocker.tools.isInAppBrowser())return this._unlock("inapp"),!1;for(var o=0,n=0;n<this._groups.length;n++)if(!this._groups[n].canLock()){if("or"===this.groupUnion)return this._unlock("group"),!1;o++}return o===this._groups.length?(this._unlock("group"),!1):!0},requestState:function(t){var e=this,o=function(t){for(var o=e._groups.length,n="locked",i=0;i<e._groups.length;i++)e._groups[i].requestState(function(e){o--,"unlocked"===e&&(n=e),0>=o&&t(n)})},n=[];n=this.applyFilters("functions-requesting-state",n),n.push(o);var i=function(){var e=n.shift();return e?void e(function(e){return"unlocked"===e?t(e):void i()}):t("locked")};i()},setState:function(t,e,o){this.runHook("state-changed",[t,e,o])},_getStateStorage:function(){return this._stateStorage?this._stateStorage:(this._stateStorage=this.applyFilters("get-default-state-storage",new t.pandalocker.storages.defaultStateStorage(this)),this._stateStorage)},_showError:function(t,e){this._error=!0,this._errorText=e,this.locker&&this.locker.hide(),this.element.html("<strong>[Error]: "+e+"</strong>"),this.element.show().addClass("onp-sl-locker-error"),this.runHook("size-changed")},addHook:function(e,o,n,i){t.pandalocker.hooks.add(this.id+"."+e,o,n),i&&t.pandalocker.hooks.add(e,o,n)},runHook:function(e,o,n){o||(o=[]),o.unshift(this),t.pandalocker.hooks.run(this.id+"."+e,o),n&&t.pandalocker.hooks.run(e,o),this.element.trigger("opanda-"+e,o);var i=o.slice(),r={};r.lockId=this.id,r.visitorId=this.vid,r.locker=this.locker,r.content=this.element,i.unshift(r),t.pandalocker.hooks.run("opanda-"+e,i)},addFilter:function(e,o,n){t.pandalocker.filters.add(this.id+"."+e,o,n)},applyFilters:function(e,o,n,i){n||(n=[]),t.isArray(n)||(n=[n]),n.unshift(this),n.unshift(o);var r=t.pandalocker.filters.run(this.id+"."+e,n);return n[0]=r,i&&(r=t.pandalocker.filters.run(e,n)),r},screens:{},_screenFactory:{},_showScreen:function(e,o){if(!this._screenFactory[e]&&!this.screens[e])throw new t.pandalocker.error('The screen "'+e+'" not found in the group "'+this.name+'"');var n=this;if(this._currentScreenName=e,this.innerWrap.find(".onp-sl-screen").hide(),this.screens[e])return this.screens[e].show(),void n.runHook("size-changed");var i=t("<div class='onp-sl-screen onp-sl-non-default-screen onp-sl-screen-"+e+"'></div>").appendTo(this.innerWrap).hide();this.screens[e]=this._screenFactory[e](i,o),i.fadeIn(300,function(){n.runHook("size-changed")})},_registerScreen:function(t,e){this._screenFactory[t]=e},_initScreens:function(){var e=this;this._currentScreenName="default",this._registerScreen("enter-email",function(e,o){var n=t('<div class="onp-sl-text"></div>');if(e.append(n),o.header){var i=t('<div class="onp-sl-header onp-sl-strong">'+o.header+"</div>");n.append(i)}if(o.message){var r=t('<div class="onp-sl-message">'+o.message+"</div>");n.append(r)}var a=t('<div class="onp-sl-control"></div>');e.append(a);var s={};s.email={name:"email",type:"text",placeholder:t.pandalocker.lang.misc_enter_your_email},s.submit={name:"submit",type:"submit",title:o.buttonTitle};for(var l in s){var c=s[l].type,d=s[l].title,u=s[l].value||o.fields&&o.fields[l]&&o.fields[l].value,p=t("<div></div>").addClass("onp-sl-field").addClass("onp-sl-field-"+l).addClass("onp-sl-field-type-"+c);if("text"===c||"email"===c){var h=t("<input type='"+c+"' name='"+l+"' class='onp-sl-input' id='onp-sl-input-"+l+"' />");s[l].placeholder&&h.attr("placeholder",s[l].placeholder),u&&h.attr("value",u),h.appendTo(p)}if("submit"===c){var h=t("<button class='onp-sl-button onp-sl-form-button onp-sl-submit'>"+d+"</button>");h.addClass("onp-sl-button-primary"),h.appendTo(p)}p.appendTo(a)}if(o.note){var f=t("<div class='onp-sl-note onp-sl-nospam'></div>").html(o.note);f.appendTo(p)}e.find(".onp-sl-submit").click(function(){var n=function(o,n){e.find(".onp-sl-group-notice").remove();var i=t("<div class='onp-sl-group-notice'>"+o+"</div>").hide();e.append(i),i.fadeIn(500),n||(n=7e3),setTimeout(function(){i.length&&i.fadeOut(800,function(){i.remove()})},n)},i=(t(this),t.trim(e.find("#onp-sl-input-email").val()));return i&&i.length?t.pandalocker.tools.isValidEmailAddress(i)?void(o.callback&&o.callback(i)):void n(t.pandalocker.lang.errors_inorrect_email):void n(t.pandalocker.lang.errors_empty_email)})}),this._registerScreen("data-processing",function(e){e.append(t("<div class='onp-sl-process-spin'></div>")),e.append(t("<div class='onp-sl-processing-sreen-text'>"+t.pandalocker.lang.misc_data_processing+"</div>"))}),this._registerScreen("email-confirmation",function(o,n){var i=t('<div class="onp-sl-screen-message"></div>'),r=t("<div class='onp-sl-header'></div>").html(t.pandalocker.lang.confirm_screen_title),a=t("<div class='onp-sl-message'></div>"),s=t("<p></p>").html(t.pandalocker.lang.confirm_screen_instructiont.replace("{email}","<strong>"+n.email+'</strong> <a href="#" class="onp-sl-cancel">'+t.pandalocker.lang.confirm_screen_cancel+"</a>")),l=t('<p class="onp-sl-highlight"></p>').html(t.pandalocker.lang.confirm_screen_note1),c=t('<p class="onp-sl-note"></p>').html(t.pandalocker.lang.confirm_screen_note2),d=s.find(".onp-sl-cancel");d.click(function(){return n.service.cancel(),e._showScreen("default"),!1}),a.append(s),a.append(l),i.append(r),i.append(a),o.append(i);var u=n.email.split("@"),p=null;if(u[1].indexOf("gmail")>=0?p={url:"https://mail.google.com/mail/?tab=wm",icon:"0px 0px",title:"Gmail"}:u[1].indexOf("yahoo")>=0?p={url:"https://mail.yahoo.com/",icon:"0px -70px",title:"Yahoo!"}:u[1].indexOf("hotmail")>=0?p={url:"https://hotmail.com/",icon:" 0px -140px",title:"Hotmail"}:u[1].indexOf("outlook")>=0&&(p={url:"http://www.outlook.com/",icon:" 0px -140px",title:"Outlook"}),p){var h=t('<a class="onp-sl-button onp-sl-form-button onp-sl-form-button-sm onp-sl-open"></a>').html(t.pandalocker.lang.confirm_screen_open.replace("{service}",p.title));if(h.attr("href",p.url),h.attr("target","_blank"),p.icon){h.addClass("onp-sl-has-icon");var f=t('<i class="onp-sl-icon"></i>').prependTo(h);f.css("background-position",p.icon);
}var g=t("<div class='onp-sl-open-button-wrap'></div>");g.append(h),o.append(g)}o.append(c)})},_lock:function(){var t=this;this._isLocked||(this._markupIsCreated||this._createMarkup(),this.overlap?(this.overlapLockerBox.fadeIn(1e3,function(){t._updateLockerPosition()}),t._updateLockerPosition()):(this.element.hide(),this.locker.fadeIn(1e3)),this._isLocked=!0,this.runHook("lock"),this.runHook("locked"),setTimeout(function(){t._startTrackVisability()},1500))},_unlock:function(t,e,o){if(!this.options.locker.off){if(!this._isLocked)return this.runHook("cancel",[t]),this._showContent("button"===t),!1;this._showContent(!0),this._isLocked=!1,this.runHook("unlock",[t,e,o]),this.runHook("unlocked",[t,e,o])}},lock:function(t){this._lock(t||"api")},unlock:function(t,e,o){this._unlock(t||"api",e,o)},_createMarkup:function(){var e=this;this._loadFonts();var o=this.element.parent().is("a")?this.element.parent():this.element;o.addClass("onp-sl-content");var n=t.pandalocker.browser.mozilla&&"mozilla"||t.pandalocker.browser.opera&&"opera"||t.pandalocker.browser.webkit&&"webkit"||"msie";this.locker=t("<div class='onp-sl onp-sl-"+n+"'></div>"),this.outerWrap=t("<div class='onp-sl-outer-wrap'></div>").appendTo(this.locker),this.innerWrap=t("<div class='onp-sl-inner-wrap'></div>").appendTo(this.outerWrap);var i=t("<div class='onp-sl-screen onp-sl-screen-default'></div>").appendTo(this.innerWrap);this.screens["default"]=this.defaultScreen=i,this.locker.addClass(this.style),this.locker.addClass("onp-sl-"+this.lockerType),this.locker.addClass("onp-sl-"+this.options.groups.order[0]+"-frist"),this.locker.addClass(1===this.options.groups.order.length?"onp-sl-contains-single-group":"onp-sl-contains-many-groups");for(var r=0;r<this.options.groups.order.length;r++)this.locker.addClass("onp-sl-"+this.options.groups.order[r]+"-enabled");if(this.locker.addClass(t.pandalocker.isTouch()?"onp-sl-touch":"onp-sl-no-touch"),this.options.cssClass&&this.locker.addClass(this.options.cssClass),this.overlap){o.addClass("onp-sl-overlap-mode");var a=this.element.css("display"),s=o;if("blurring"===this.overlap||o.is("img")||o.is("iframe")||o.is("object")||"block"!==a&&"inline-block"!==a){s=t('<div class="onp-sl-content-wrap"></div>'),s.insertAfter(o),s.append(o);var l=o.css("margin");s.css({margin:l}),o.css({margin:"0"}),e.addHook("unlock",function(){s.css({margin:l})})}o.show(),this.element.show(),"blurring"===this.overlap&&(this.blurArea=t("<div class='onp-sl-blur-area'></div>"),this.blurArea.insertAfter(o),this.blurArea.append(o),o=this.blurArea);var c=s.css("position");"static"===c&&s.css("position","relative");var d=o.is("iframe")&&o||o.find("iframe");if(1===d.length&&"absolute"===d.css("position")){var u=!o.is(d)&&!d.parent().is(o)&&"relative"===d.parent().css("position");u||(s.css({position:"absolute",width:"100%",height:"100%",top:d.css("top"),left:d.css("left"),right:d.css("right"),bottom:d.css("bottom"),margin:d.css("margin")}),d.css({top:0,left:0,right:0,bottom:0,margin:"auto"}))}this.overlapLockerBox=t("<div class='onp-sl-overlap-locker-box'></div>").hide(),this.overlapLockerBox.addClass("onp-sl-position-"+this.options.overlap.position),this.overlapLockerBox.append(this.locker),this.overlapBox=t("<div class='onp-sl-overlap-box'></div>"),this.overlapBox.append(this.overlapLockerBox),this.overlapBox.addClass("onp-sl-"+this.overlap+"-mode"),this.overlapBox.addClass(this.style+"-theme");var p=t("<div class='onp-sl-overlap-background'></div>");if(this.overlapBox.append(p),s.append(this.overlapBox),this.containerToTrackSize=s,"blurring"===this.overlap){var h=this.options.overlap&&this.options.overlap.intensity||5;this.blurArea=this.blurArea.Vague({intensity:h,forceSVGUrl:!1}),this.blurArea.blur()}t(window).resize(function(){e._updateLockerPosition()}),this.addHook("size-changed",function(){e._updateLockerPosition()}),"scroll"===this.options.overlap.position&&t(window).scroll(function(){e._updateLockerPositionOnScrolling()})}else this.locker.hide(),this.locker.insertAfter(o);this._markupIsCreated=!0,this.runHook("markup-created"),this.locker.click(function(){e.runHook("raw-interaction")}),this._isLockerVisible=this.locker.parent().is(":visible"),this._isLockerVisible||(this.options.lazy=!0);for(var f=0;f<this._groups.length;f++)this._groups[f].renderGroup(i);if((this.options.terms||this.options.privacyPolicy)&&this._createTerms(),this.options.locker.close&&this._createClosingCross(),this.options.locker.timer&&this._createTimer(),"visible_with_warning"===this.options.locker.inAppBrowsers&&this.options.locker.inAppBrowsersWarning&&t.pandalocker.tools.isInAppBrowser()){var g=this.options.locker.inAppBrowsersWarning;g=g.replace("{browser}","<strong>"+t.pandalocker.tools.getInAppBrowser()+"</strong>");var k=t("<div class='onp-sl-group-notice'>"+g+"</div>");i.find(".onp-sl-group").append(k)}},_addClass:function(t){this.locker.addClass(t)},_loadFonts:function(){if(this.options.theme.fonts&&this.options.theme.fonts.length)for(var e="https:"===document.location.protocol?"https":"http",o=e+"://fonts.googleapis.com/css",n=0;n<this.options.theme.fonts.length;n++){var i=this.options.theme.fonts[n],r=i.name;i.styles&&i.styles.length&&(r=r+":"+i.styles.join(","));var a=t.pandalocker.tools.updateQueryStringParameter(o,"family",r);i.subset&&i.subset.length&&(a=t.pandalocker.tools.updateQueryStringParameter(a,"subset",i.subset.join(",")));var s=t.pandalocker.tools.hash(a);t("#onp-sl-font-"+s).length>0||t('<link id="onp-sl-font-'+s+'" rel="stylesheet" type="text/css" href="'+a+'" >').appendTo("head")}},_updateLockerPosition:function(){if(this.overlap){var t=this.containerToTrackSize.outerHeight();"undefined"==typeof this.contentMinTopMargin&&(this.contentMinTopMargin=parseInt(this.containerToTrackSize.css("marginTop"))),"undefined"==typeof this.contentMinBottomMargin&&(this.contentMinBottomMargin=parseInt(this.containerToTrackSize.css("marginBottom")));var e=this.locker.outerHeight();if(e>t){var o=parseInt((e-t)/2)+20,n=this.contentMinTopMargin<o?o:this.contentMinTopMargin,i=this.contentMinBottomMargin<o?o:this.contentMinBottomMargin;this.containerToTrackSize.css({marginTop:n+"px",marginBottom:i+"px"})}if("top"===this.options.overlap.position||"scroll"===this.options.overlap.position){var r=this.overlapBox.outerWidth(),a=this.locker.outerWidth(),s=this.overlapBox.outerHeight(),l=this.options.overlap.offset;if(!l){var l=Math.floor((r-a)/2);10>=l&&(l=10)}if(2*l+e>s)var l=Math.floor((s-e)/2);this.overlapLockerBox.css("marginTop",l+"px"),"scroll"===this.options.overlap.position&&(this._baseOffset=l,this._updateLockerPositionOnScrolling())}return"middle"===this.options.overlap.position?void this.overlapLockerBox.css("marginTop","-"+Math.floor(this.overlapLockerBox.innerHeight()/2)+"px"):void 0}},_updateLockerPositionOnScrolling:function(){var e=this.overlapBox.offset(),o=e.top,n=e.left,i=e.top+this.overlapBox.outerHeight(),r=this.overlapBox.outerWidth(),a=this.overlapBox.outerHeight(),s=this.locker.outerHeight();if(!(2*this._baseBoxOffset+s+10>=a)){var l=t(document).scrollTop(),c=20;return l+s+2*this._baseOffset+c>i?void this.overlapLockerBox.css("position","absolute").css("top","auto").css("left","0px").css("width","auto").css("bottom",this._baseOffset+"px").css("margin-top","0px"):l+c>o?void this.overlapLockerBox.css("position","fixed").css("top",this._baseOffset+c+"px").css("left",n+"px").css("width",r+"px").css("bottom","auto").css("margin-top","0px"):void this.overlapLockerBox.css("position","absolute").css("top","0px").css("left","0px").css("bottom","auto").css("width","auto").css("margin-top",this._baseOffset+"px")}},_startTrackVisability:function(){var e=this,o=this.locker[0];this._trackVisabilityStoppped=!1,o.getBoundingClientRect||this.runHook("raw-impress");var n=t(window).height(),i=t(window).width(),r=function(){if(!e._trackVisabilityStoppped){if(!o)return void e._stopTrackVisability();var t=o.getBoundingClientRect(),r=t.height/2,a=t.width/2;t.top+r>0&&t.bottom-r<=n&&t.left+a&&t.right-a<=i&&(e.runHook("raw-impress"),e._stopTrackVisability())}};t(window).bind("resize.visability.opanda",function(){e._trackVisabilityStoppped||(n=t(window).height(),i=t(window).width())}),t(window).bind("resize.visability.opanda scroll.visability.opanda",function(){e._trackVisabilityStoppped||r()}),this._isLockerVisible||(t("a, button").add(t(document)).bind("click.visability.opanda",function(){e._trackVisabilityStoppped||setTimeout(function(){r()},200)}),this.addHook("raw-impress",function(){e._isLockerVisible=!0,e._trackVisabilityStoppped=!0})),r()},_stopTrackVisability:function(){this._trackVisabilityStoppped=!0},_createClosingCross:function(){var e=this;t("<div class='onp-sl-cross' title='"+t.pandalocker.lang.misc_close+"' />").prependTo(this.locker).click(function(){e.close&&e.close(e)||e._unlock("cross",!0)})},_createTimer:function(){this.timer=t("<span class='onp-sl-timer'></span>");var e=t.pandalocker.lang.misc_or_wait;e=e.replace("{timer}",t("<span class='onp-sl-timer-counter'>"+this.options.locker.timer+"</span>")[0].outerHTML),this.timerLabel=t("<span class='onp-sl-timer-label'></span>").html(e).appendTo(this.timer),this.timerCounter=this.timerLabel.find(".onp-sl-timer-counter"),this.timer.appendTo(this.locker),this.counter=this.options.locker.timer,this._kickTimer()},_kickTimer:function(){var e=this;setTimeout(function(){if(e._isLocked)if(e.counter--,e.counter<=0)e._unlock("timer");else{if(e.timerCounter.text(e.counter),t.pandalocker.browser.opera){var o=e.timerCounter.clone();o.insertAfter(e.timerCounter),e.timerCounter.remove(),e.timerCounter=o}e._kickTimer()}},1e3)},_createTerms:function(){this.locker.addClass("onp-sl-has-terms"),this.terms=t("<div class='onp-sl-terms'></div>").appendTo(this.defaultScreen),this.termsInnerWrap=t("<div class='onp-sl-terms-inner-wrap'></div>").appendTo(this.terms);var e=t.pandalocker.lang.misc_your_agree_with,o="";if(this.options.terms&&(o=t("<a target='_black' class='onp-sl-link'>"+t.pandalocker.lang.misc_terms_of_use+"</a>").attr("href",this.options.terms)[0].outerHTML),this.options.privacyPolicy&&(this.options.terms&&(o+=", "),o+=t("<a target='_black' class='onp-sl-link'>"+t.pandalocker.lang.misc_privacy_policy+"</a>").attr("href",this.options.privacyPolicy)[0].outerHTML),o&&(e=e.replace("{links}",o)),this.termsInnerWrap.html(e),this.options.termsPopup){var n=this.options.termsPopup.width||550,i=this.options.termsPopup.height||400;this.termsInnerWrap.find(".onp-sl-link").click(function(){var e=t(this).attr("href");return window.open(e,"bizpanda_policies","width="+n+",height="+i+",resizable=yes,scrollbars=yes"),!1})}},_showContent:function(e){var o=this;this.runHook("before-show-content");var n=function(){o.overlap?(o.overlapBox&&o.overlapBox.hide(),o.blurArea&&o.blurArea.unblur()):o.locker&&o.locker.hide(),o.locker&&o.locker.hide(),e?o.element.fadeIn(1e3,function(){o.options.highlight&&o.element.effect&&o.element.effect("highlight",{color:"#fffbcc"},800)}):o.element.show(),o.runHook("after-show-content")};if(this.options.content)if("string"==typeof this.options.content)this.element.html(this.options.content),n();else if("object"!=typeof this.options.content||this.options.content.url)if("object"==typeof this.options.content&&this.options.content.url){var i=t.extend(!0,{},this.options.content),r=i.success,a=i.complete,s=i.error;i.success=function(t,e,i){r?r(o,t,e,i):o.element.html(t),n()},i.error=function(t,e,n){o._showError("ajax","An error is triggered during the ajax request! Text: "+e+" "+n),s&&s(t,e,n)},i.complete=function(t,e){a&&a(t,e)},t.ajax(i)}else n();else this.element.append(this.options.content.clone().show()),n();else n()}}),t.fn.sociallocker=function(e){return t(this).pandalocker(e)})}(jQuery),function(t){window.bizpanda||(window.bizpanda={}),window.bizpanda.lockerOptions||(window.bizpanda.lockerOptions={}),window.bizpanda.initLockers=function(){var e=function(e,o){e||(e=t(document));var n=window.bizpanda.createInlineLockers(e),i=window.bizpanda.createCssLockers(e);!n.has()&&!i.has()||this._inited||(o||window.bizpanda.countPageViews(),window.bizpanda.countLockerViews()),n.explode(),i.explode()};if(__pandalockers.managedInitHook){if(this._inited)return;t(document).bind(__pandalockers.managedInitHook,function(t,o,n){e(o,n)})}else e(null,!0);this._inited=!0,window.bizpanda.inited=!0,t(document).trigger("bp-init")},window.bizpanda.createInlineLockers=function(e){var o=window.bizpanda.createMine();e||(e=t(document));for(var n=e.find(".onp-locker-call"),i=0;i<n.length;i++){var r=t(n[i]),a=r.data("lock-id"),s=r.data("bp-locker-applied");if(!s){r.data("bp-locker-applied",!0);var l=window.bizpanda.lockerOptions[a]?window.bizpanda.lockerOptions[a]:t.parseJSON(r.next().text()),c=window.bizpanda.createLocker(r,l,a,!0);o.triggers.push(c)}}return o},window.bizpanda.createCssLockers=function(e){var o=window.bizpanda.createMine();if(e||(e=t(document)),!window.bizpanda.bulkCssSelectors)return o;for(var n in window.bizpanda.bulkCssSelectors)for(var i=window.bizpanda.bulkCssSelectors[n].selector,r=window.bizpanda.bulkCssSelectors[n].lockId,a=0,s=e.find(i),l=0;l<s.length;l++){var c=t(s[l]),d=c.data("bp-locker-applied");if(!d){if(c.data("bp-locker-applied",!0),a++,a>20)return!1;var u=window.bizpanda.lockerOptions[r],p=window.bizpanda.createLocker(c,u,r,!0);o.triggers.push(p)}}return o},window.bizpanda.createMine=function(){return{has:function(){return this.triggers.length>0},triggers:[],explode:function(){for(var t=0;t<this.triggers.length;t++)this.triggers[t]()}}},window.bizpanda.countPageViews=function(){window.bizpanda.bp_ut_count_pageview&&window.bizpanda.bp_ut_count_pageview()},window.bizpanda.countLockerViews=function(){window.bizpanda.bp_ut_count_locker_pageview&&window.bizpanda.bp_ut_count_locker_pageview()},window.bizpanda.createLocker=function(e,o,n,i){var r=function(){var t={};return t.postId=o.postId,t.postTitle=document.getElementsByTagName("title")[0]?document.getElementsByTagName("title")[0].innerHTML:"(no title)",t.postUrl=window.location.href,t.itemId=o.lockerId,t},a=function(e,n){var i={eventName:e,eventType:n,visitorId:t.pandalocker.tools.getValue("opanda_vid",null)},a=t.ajax({url:o.ajaxUrl,type:"POST",dataType:"json",data:{action:"opanda_statistics",opandaStats:i,opandaContext:r()}});a.success(function(t){return t&&t.error?void(console&&console.log&&console.log(t.error)):void 0}),a.error(function(t){console&&console.log&&(console.log("Unexpected error occurred during the ajax request:"),console.log(a.responseText))})},s=o.options;if(s.id=n,s.lockerId=o.lockerId,o.ajax&&(s.content={url:o.ajaxUrl,type:"POST",data:{lockerId:o.lockerId,action:"opanda_loader",hash:o.contentHash}}),t.pandalocker.filters.add(n+".ajax-data",function(t){return t.opandaContextData=r(),t}),"undefined"==typeof o.stats||o.stats){t.pandalocker.hooks.add(n+".unlock",function(e,o,n){-1!==t.inArray(o,["button","timer","cross"])&&("button"===o?a(n,"unlock"):a(o,"skip"),t(window).resize(),window.mtq_resize_quizzes&&window.mtq_resize_quizzes())});var l=["impress","error","social-app-declined","got-linkedin-follower","got-youtube-subscriber"];t.each(l,function(e,o){t.pandalocker.hooks.add(n+"."+o,function(){a(o)})})}e.removeClass("onp-locker-call"),window.bizpanda.lockerOptions[n]||e.next().remove();var c=function(){o&&o.options&&o.options.locker&&o.options.locker.delay?setTimeout(function(){e.pandalocker(s)},1e3*o.options.locker.delay):e.pandalocker(s)};return i?c:void c()};var e=function(){t(document).ajaxComplete(function(){window.bizpanda.initLockers()}),window.bizpanda.dynamicThemeSupport&&""!==window.bizpanda.dynamicThemeEvent&&t(document).bind(window.bizpanda.dynamicThemeEvent,function(){window.bizpanda.initLockers()})};window.bizpanda.dynamicThemeSupport?e():t(function(){e()});for(var o=window.__pandalockers.visibility,n=["user-role","user-registered","post-published"],i=function(e){t.pandalocker.services.visibilityProviders[e]={getValue:function(){var n=t.pandalocker.tools.cookie("bp_"+e);return n?n:o[e]?o[e]:null}}},r=0;r<n.length;r++)i(n[r]);var a=function(){var e=null;return window.bizpanda.bp_can_store_localy?(e=window.bizpanda.bp_can_store_localy()?window.localStorage.getItem("bp_ut_session"):t.pandalocker.tools.cookie("bp_ut_session"))?(e=e.replace(/\-c\-/g,","),e=e.replace(/\-q\-/g,'"'),e=JSON.parse(e)):e:(console.log&&console.log("[Lockers] User Tracker code is not loaded."),null)};t.pandalocker.services.visibilityProviders["session-pageviews"]={getValue:function(){var t=a();return t?t.pageviews:0}},t.pandalocker.services.visibilityProviders["session-locker-pageviews"]={getValue:function(){var t=a();return t&&t.lockerPageviews?t.lockerPageviews:0}},t.pandalocker.services.visibilityProviders["session-landing-page"]={getValue:function(){var t=a();return t.landingPage}},t.pandalocker.services.visibilityProviders["session-referrer"]={getValue:function(){var t=a();return t.referrer}},t.pandalocker.services.visibilityProviders["user-cookie-name"]={getValue:function(e){return t.pandalocker.tools.cookie(e.value)?e.value:!1}}}(jQuery),function(t){t(function(){window.bizpanda.initLockers(),setTimeout(function(){window.bizpanda.initLockers()},2e3)})}(jQuery);